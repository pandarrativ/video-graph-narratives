{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar React = require('react');\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\nfunction dataURLToBlob(dataurl) {\n  var arr = dataurl.split(',');\n  var mime = arr[0].match(/:(.*?);/)[1];\n  var bstr = atob(arr[1]);\n  var n = bstr.length;\n  var u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new Blob([u8arr], {\n    type: mime\n  });\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar ImgDrawRect = function ImgDrawRect(props, ref) {\n  var canvasReft = React.useRef();\n  var _useState = React.useState(),\n    _useState2 = _slicedToArray(_useState, 2);\n  _useState2[0];\n  var render = _useState2[1];\n  var src = props.src,\n    width = props.width,\n    height = props.height,\n    lineColor = props.lineColor,\n    _props$option = props.option,\n    option = _props$option === void 0 ? [] : _props$option,\n    lineWidth = props.lineWidth,\n    WrapperClassName = props.WrapperClassName;\n  var _useState3 = React.useState(option),\n    _useState4 = _slicedToArray(_useState3, 2),\n    boxData = _useState4[0],\n    setBoxData = _useState4[1];\n  var renderRect = function renderRect(boxData, ctx, img) {\n    var arr = [];\n    boxData.forEach(function (List) {\n      var Cwidth = width / img.width * List.width;\n      var Cheight = height / img.height * List.height;\n      var Cx = width / img.width * List.left;\n      var Cy = height / img.height * List.top;\n      arr.push({\n        width: Cwidth,\n        height: Cheight,\n        x: Cx,\n        y: Cy\n      });\n    });\n    arr.forEach(function (item) {\n      ctx.lineWidth = lineWidth || 2;\n      ctx.rect(item.x, item.y, item.width, item.height);\n      ctx.strokeStyle = lineColor || \"#f40\";\n      ctx.stroke();\n    });\n  };\n  React.useImperativeHandle(ref, function () {\n    return {\n      // 获取当前boxs数据\n      getData: function getData() {\n        return boxData;\n      },\n      // 设置boxs数据\n      setData: function setData(data) {\n        setBoxData(data);\n      },\n      getBlob: function getBlob() {\n        var canvas = canvasReft.current;\n        canvas.toBlob(function (blob) {\n          console.log(blob, \"二进制数据\");\n        });\n      },\n      clearRect: function clearRect() {\n        var canvas = canvasReft.current;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.clearRect(0, 0, canvas.width, canvas.height); // 清空画布\n      },\n\n      upload: function upload() {\n        var img = new Image();\n        img.src = src;\n        img.onload = function () {\n          var canvas = document.createElement(\"canvas\");\n          var ctx = canvas.getContext(\"2d\");\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img, 0, 0);\n          var a = document.createElement(\"a\");\n          renderRect(boxData, ctx, img);\n          var data = canvas.toDataURL(\"image/png\");\n          a.href = data;\n          a.download = \"测试图片.png\";\n          a.click();\n          a = null;\n        };\n      }\n    };\n  }, [boxData]);\n  React.useEffect(function () {\n    // 获取图片原始大小,根据当前设置宽高比例计算最后的位置\n    var img = new Image();\n    img.src = src; //根据最后的位置信息画坐标框\n\n    var canvas = canvasReft.current;\n    var ctx = canvas.getContext(\"2d\");\n    ctx.clearRect(0, 0, canvas.width, canvas.height); // 清空画布\n\n    img.onload = function () {\n      var ctx = canvas.getContext(\"2d\");\n      var arr = [];\n      boxData.forEach(function (List) {\n        var Cwidth = width / img.width * List.width;\n        var Cheight = height / img.height * List.height;\n        var Cx = width / img.width * List.left;\n        var Cy = height / img.height * List.top;\n        arr.push({\n          width: Cwidth,\n          height: Cheight,\n          x: Cx,\n          y: Cy\n        });\n      });\n      arr.forEach(function (item) {\n        ctx.lineWidth = lineWidth || 2; // ctx.rect(item.x, item.y, item.width, item.height);\n\n        ctx.strokeStyle = lineColor || \"#f40\";\n        ctx.strokeRect(item.x, item.y, item.width, item.height);\n      });\n    };\n  }, [props, boxData]);\n  return /*#__PURE__*/React__default['default'].createElement(\"div\", {\n    className: WrapperClassName,\n    style: {\n      position: \"relative\",\n      width: \"\".concat(width, \"px\"),\n      height: \"\".concat(height, \"px\")\n    }\n  }, /*#__PURE__*/React__default['default'].createElement(\"img\", {\n    src: src,\n    onClick: render,\n    style: {\n      position: \"absolute\",\n      width: \"\".concat(width, \"px\"),\n      height: \"\".concat(height, \"px\")\n    }\n  }), /*#__PURE__*/React__default['default'].createElement(\"canvas\", {\n    id: \"canvas\",\n    style: {\n      position: \"absolute\",\n      zIndex: \"100\"\n    },\n    ref: canvasReft,\n    width: width,\n    height: height\n  }));\n};\nvar ImgDrawRect$1 = /*#__PURE__*/React.forwardRef(ImgDrawRect);\n\n/**\n * 将图片转为base64格式\n * @param {*} url 图片路径(可以传图片url),返回一个promise\n */\nfunction getUrlToData(url, type) {\n  return new Promise(function (resolve, reject) {\n    var canvas = document.createElement(\"canvas\"); //创建canvas DOM元素\n\n    var ctx = canvas.getContext(\"2d\");\n    var img = new Image();\n    img.crossOrigin = \"Anonymous\";\n    img.src = url;\n    img.onload = function () {\n      canvas.height = img.height;\n      canvas.width = img.width;\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n      if (type === \"blob\") {\n        var dataURL = canvas.toBlob(function (blob) {\n          resolve(blob);\n        });\n      } else {\n        var dataURL = canvas.toDataURL(\"image/png\");\n        resolve(dataURL);\n      }\n    };\n    img.onerror = function () {\n      reject();\n    };\n  });\n}\nexports.ImgDrawRect = ImgDrawRect$1;\nexports.dataURLToBlob = dataURLToBlob;\nexports.getUrlToData = getUrlToData;","map":{"version":3,"names":["Object","defineProperty","exports","value","React","require","_interopDefaultLegacy","e","React__default","dataURLToBlob","dataurl","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","Blob","type","_slicedToArray","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","Symbol","iterator","_arr","_n","_d","_s","_e","call","next","done","push","err","o","minLen","_arrayLikeToArray","prototype","toString","slice","constructor","name","from","test","len","arr2","TypeError","ImgDrawRect","props","ref","canvasReft","useRef","_useState","useState","_useState2","render","src","width","height","lineColor","_props$option","option","lineWidth","WrapperClassName","_useState3","_useState4","boxData","setBoxData","renderRect","ctx","img","forEach","List","Cwidth","Cheight","Cx","left","Cy","top","x","y","item","rect","strokeStyle","stroke","useImperativeHandle","getData","setData","data","getBlob","canvas","current","toBlob","blob","console","log","clearRect","getContext","upload","Image","onload","document","createElement","drawImage","a","toDataURL","href","download","click","useEffect","strokeRect","className","style","position","concat","onClick","id","zIndex","ImgDrawRect$1","forwardRef","getUrlToData","url","Promise","resolve","reject","crossOrigin","dataURL","onerror"],"sources":["/home/yhx/Projects/AnnVideo/Frontend/node_modules/react-drawrect/lib/index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nfunction dataURLToBlob(dataurl) {\n  var arr = dataurl.split(',');\n  var mime = arr[0].match(/:(.*?);/)[1];\n  var bstr = atob(arr[1]);\n  var n = bstr.length;\n  var u8arr = new Uint8Array(n);\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n\n  return new Blob([u8arr], {\n    type: mime\n  });\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar ImgDrawRect = function ImgDrawRect(props, ref) {\n  var canvasReft = React.useRef();\n\n  var _useState = React.useState(),\n      _useState2 = _slicedToArray(_useState, 2);\n      _useState2[0];\n      var render = _useState2[1];\n\n  var src = props.src,\n      width = props.width,\n      height = props.height,\n      lineColor = props.lineColor,\n      _props$option = props.option,\n      option = _props$option === void 0 ? [] : _props$option,\n      lineWidth = props.lineWidth,\n      WrapperClassName = props.WrapperClassName;\n\n  var _useState3 = React.useState(option),\n      _useState4 = _slicedToArray(_useState3, 2),\n      boxData = _useState4[0],\n      setBoxData = _useState4[1];\n\n  var renderRect = function renderRect(boxData, ctx, img) {\n    var arr = [];\n    boxData.forEach(function (List) {\n      var Cwidth = width / img.width * List.width;\n      var Cheight = height / img.height * List.height;\n      var Cx = width / img.width * List.left;\n      var Cy = height / img.height * List.top;\n      arr.push({\n        width: Cwidth,\n        height: Cheight,\n        x: Cx,\n        y: Cy\n      });\n    });\n    arr.forEach(function (item) {\n      ctx.lineWidth = lineWidth || 2;\n      ctx.rect(item.x, item.y, item.width, item.height);\n      ctx.strokeStyle = lineColor || \"#f40\";\n      ctx.stroke();\n    });\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      // 获取当前boxs数据\n      getData: function getData() {\n        return boxData;\n      },\n      // 设置boxs数据\n      setData: function setData(data) {\n        setBoxData(data);\n      },\n      getBlob: function getBlob() {\n        var canvas = canvasReft.current;\n        canvas.toBlob(function (blob) {\n          console.log(blob, \"二进制数据\");\n        });\n      },\n      clearRect: function clearRect() {\n        var canvas = canvasReft.current;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.clearRect(0, 0, canvas.width, canvas.height); // 清空画布\n      },\n      upload: function upload() {\n        var img = new Image();\n        img.src = src;\n\n        img.onload = function () {\n          var canvas = document.createElement(\"canvas\");\n          var ctx = canvas.getContext(\"2d\");\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img, 0, 0);\n          var a = document.createElement(\"a\");\n          renderRect(boxData, ctx, img);\n          var data = canvas.toDataURL(\"image/png\");\n          a.href = data;\n          a.download = \"测试图片.png\";\n          a.click();\n          a = null;\n        };\n      }\n    };\n  }, [boxData]);\n  React.useEffect(function () {\n    // 获取图片原始大小,根据当前设置宽高比例计算最后的位置\n    var img = new Image();\n    img.src = src; //根据最后的位置信息画坐标框\n\n    var canvas = canvasReft.current;\n    var ctx = canvas.getContext(\"2d\");\n    ctx.clearRect(0, 0, canvas.width, canvas.height); // 清空画布\n\n    img.onload = function () {\n      var ctx = canvas.getContext(\"2d\");\n      var arr = [];\n      boxData.forEach(function (List) {\n        var Cwidth = width / img.width * List.width;\n        var Cheight = height / img.height * List.height;\n        var Cx = width / img.width * List.left;\n        var Cy = height / img.height * List.top;\n        arr.push({\n          width: Cwidth,\n          height: Cheight,\n          x: Cx,\n          y: Cy\n        });\n      });\n      arr.forEach(function (item) {\n        ctx.lineWidth = lineWidth || 2; // ctx.rect(item.x, item.y, item.width, item.height);\n\n        ctx.strokeStyle = lineColor || \"#f40\";\n        ctx.strokeRect(item.x, item.y, item.width, item.height);\n      });\n    };\n  }, [props, boxData]);\n  return /*#__PURE__*/React__default['default'].createElement(\"div\", {\n    className: WrapperClassName,\n    style: {\n      position: \"relative\",\n      width: \"\".concat(width, \"px\"),\n      height: \"\".concat(height, \"px\")\n    }\n  }, /*#__PURE__*/React__default['default'].createElement(\"img\", {\n    src: src,\n    onClick: render,\n    style: {\n      position: \"absolute\",\n      width: \"\".concat(width, \"px\"),\n      height: \"\".concat(height, \"px\")\n    }\n  }), /*#__PURE__*/React__default['default'].createElement(\"canvas\", {\n    id: \"canvas\",\n    style: {\n      position: \"absolute\",\n      zIndex: \"100\"\n    },\n    ref: canvasReft,\n    width: width,\n    height: height\n  }));\n};\n\nvar ImgDrawRect$1 = /*#__PURE__*/React.forwardRef(ImgDrawRect);\n\n/**\n * 将图片转为base64格式\n * @param {*} url 图片路径(可以传图片url),返回一个promise\n */\nfunction getUrlToData(url, type) {\n  return new Promise(function (resolve, reject) {\n    var canvas = document.createElement(\"canvas\"); //创建canvas DOM元素\n\n    var ctx = canvas.getContext(\"2d\");\n    var img = new Image();\n    img.crossOrigin = \"Anonymous\";\n    img.src = url;\n\n    img.onload = function () {\n      canvas.height = img.height;\n      canvas.width = img.width;\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n\n      if (type === \"blob\") {\n        var dataURL = canvas.toBlob(function (blob) {\n          resolve(blob);\n        });\n      } else {\n        var dataURL = canvas.toDataURL(\"image/png\");\n        resolve(dataURL);\n      }\n    };\n\n    img.onerror = function () {\n      reject();\n    };\n  });\n}\n\nexports.ImgDrawRect = ImgDrawRect$1;\nexports.dataURLToBlob = dataURLToBlob;\nexports.getUrlToData = getUrlToData;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}