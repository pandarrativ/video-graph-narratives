{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else if (typeof define === 'function' && define.amd) define(\"reactXarrow\", [\"react\", \"lodash\", \"prop-types\"], factory);else if (typeof exports === 'object') exports[\"reactXarrow\"] = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else root[\"reactXarrow\"] = factory(root[\"react\"], root[\"lodash\"], root[\"prop-types\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_prop_types__) {\n  return (/******/function () {\n      // webpackBootstrap\n      /******/\n      \"use strict\";\n\n      /******/\n      var __webpack_modules__ = {\n        /***/\"./src/Xarrow/utils/buzzier.js\":\n        /*!*************************************!*\\\n          !*** ./src/Xarrow/utils/buzzier.js ***!\n          \\*************************************/\n        /***/\n        function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n          __webpack_require__.r(__webpack_exports__);\n          /* harmony export */\n          __webpack_require__.d(__webpack_exports__, {\n            /* harmony export */\"bzFunction\": function () {\n              return (/* binding */bzFunction\n              );\n            },\n            /* harmony export */\"buzzierMinSols\": function () {\n              return (/* binding */buzzierMinSols\n              );\n            }\n            /* harmony export */\n          });\n          // Buzier curve calculations\n\n          /**\r\n           * returns buzzier curve function with 2 controls points\r\n           * bzCurve with 2 control points function(4 points total):  bz = (1−t)^3*p1 + 3(1−t)^2*t*p2 +3(1−t)*t^2*p3 + t^3*p4\r\n           */\n          var bzFunction = function bzFunction(p1, p2, p3, p4) {\n            return function (t) {\n              return Math.pow(1 - t, 3) * p1 + 3 * Math.pow(1 - t, 2) * t * p2 + 3 * (1 - t) * Math.pow(t, 2) * p3 + Math.pow(t, 3) * p4;\n            };\n          };\n          /**\r\n           * returns 2 solutions from extram points for buzzier curve with 2 controls points\r\n           */\n\n          var buzzierMinSols = function buzzierMinSols(p1, p2, p3, p4) {\n            var bz = bzFunction(p1, p2, p3, p4); // dt(bz) = -3 p1 (1 - t)^2 + 3 p2 (1 - t)^2 - 6 p2 (1 - t) t + 6 p3 (1 - t) t - 3 p3 t^2 + 3 p4 t^2\n            // when p1=(x1,y1),p2=(cpx1,cpy1),p3=(cpx2,cpy2),p4=(x2,y2)\n            // then extrema points is when dt(bz) = 0\n            // solutions =>  t = ((-6 p1 + 12 p2 - 6 p3) ± sqrt((6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)))/(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4))  when (p1 + 3 p3!=3 p2 + p4)\n            // if we mark A=(-6 p1 + 12 p2 - 6 p3) and B=(6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)) and C =(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4) then\n            // tSol = A ± sqrt(B)\n            // then solution we want is: bz(tSol)\n\n            var A = -6 * p1 + 12 * p2 - 6 * p3;\n            var B = Math.pow(-6 * p1 + 12 * p2 - 6 * p3, 2) - 4 * (3 * p2 - 3 * p1) * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n            var C = 2 * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n            var sol1 = bz((A + Math.sqrt(B)) / C);\n            var sol2 = bz((A - Math.sqrt(B)) / C);\n            return [sol1, sol2];\n          };\n\n          /***/\n        },\n\n        /***/\"./src/Xarrow/Xarrow.tsx\":\n        /*!*******************************!*\\\n          !*** ./src/Xarrow/Xarrow.tsx ***!\n          \\*******************************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __assign = this && this.__assign || function () {\n            __assign = Object.assign || function (t) {\n              for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n              }\n              return t;\n            };\n            return __assign.apply(this, arguments);\n          };\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n            __setModuleDefault(result, mod);\n            return result;\n          };\n          var __spreadArray = this && this.__spreadArray || function (to, from) {\n            for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n            return to;\n          };\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          var react_1 = __importStar(__webpack_require__( /*! react */\"react\"));\n          var useXarrowProps_1 = __importDefault(__webpack_require__( /*! ./useXarrowProps */\"./src/Xarrow/useXarrowProps.ts\"));\n          var Xwrapper_1 = __webpack_require__( /*! ../Xwrapper */\"./src/Xwrapper.tsx\");\n          var propTypes_1 = __importDefault(__webpack_require__( /*! ./propTypes */\"./src/Xarrow/propTypes.ts\"));\n          var GetPosition_1 = __webpack_require__( /*! ./utils/GetPosition */\"./src/Xarrow/utils/GetPosition.tsx\");\n          var log = console.log;\n          var Xarrow = function (props) {\n            // log('xarrow update');\n            var _a;\n            var mainRef = react_1.useRef({\n              svgRef: react_1.useRef(null),\n              lineRef: react_1.useRef(null),\n              headRef: react_1.useRef(null),\n              tailRef: react_1.useRef(null),\n              lineDrawAnimRef: react_1.useRef(null),\n              lineDashAnimRef: react_1.useRef(null),\n              headOpacityAnimRef: react_1.useRef(null)\n            });\n            var _b = mainRef.current,\n              svgRef = _b.svgRef,\n              lineRef = _b.lineRef,\n              headRef = _b.headRef,\n              tailRef = _b.tailRef,\n              lineDrawAnimRef = _b.lineDrawAnimRef,\n              lineDashAnimRef = _b.lineDashAnimRef,\n              headOpacityAnimRef = _b.headOpacityAnimRef;\n            react_1.useContext(Xwrapper_1.XarrowContext);\n            var xProps = useXarrowProps_1.default(props, mainRef.current);\n            var propsRefs = xProps[0];\n            var labels = propsRefs.labels,\n              lineColor = propsRefs.lineColor,\n              headColor = propsRefs.headColor,\n              tailColor = propsRefs.tailColor,\n              strokeWidth = propsRefs.strokeWidth,\n              showHead = propsRefs.showHead,\n              showTail = propsRefs.showTail,\n              dashness = propsRefs.dashness,\n              headShape = propsRefs.headShape,\n              tailShape = propsRefs.tailShape,\n              showXarrow = propsRefs.showXarrow,\n              animateDrawing = propsRefs.animateDrawing,\n              zIndex = propsRefs.zIndex,\n              passProps = propsRefs.passProps,\n              arrowBodyProps = propsRefs.arrowBodyProps,\n              arrowHeadProps = propsRefs.arrowHeadProps,\n              arrowTailProps = propsRefs.arrowTailProps,\n              SVGcanvasProps = propsRefs.SVGcanvasProps,\n              divContainerProps = propsRefs.divContainerProps,\n              divContainerStyle = propsRefs.divContainerStyle,\n              SVGcanvasStyle = propsRefs.SVGcanvasStyle,\n              _debug = propsRefs._debug,\n              shouldUpdatePosition = propsRefs.shouldUpdatePosition;\n            animateDrawing = props.animateDrawing;\n            var _c = react_1.useState(!animateDrawing),\n              drawAnimEnded = _c[0],\n              setDrawAnimEnded = _c[1];\n            var _d = react_1.useState({}),\n              setRender = _d[1];\n            var forceRerender = function () {\n              return setRender({});\n            };\n            var _e = react_1.useState({\n                //initial state\n                cx0: 0,\n                cy0: 0,\n                cw: 0,\n                ch: 0,\n                x1: 0,\n                y1: 0,\n                x2: 0,\n                y2: 0,\n                dx: 0,\n                dy: 0,\n                absDx: 0,\n                absDy: 0,\n                cpx1: 0,\n                cpy1: 0,\n                cpx2: 0,\n                cpy2: 0,\n                headOrient: 0,\n                tailOrient: 0,\n                arrowHeadOffset: {\n                  x: 0,\n                  y: 0\n                },\n                arrowTailOffset: {\n                  x: 0,\n                  y: 0\n                },\n                headOffset: 0,\n                excRight: 0,\n                excLeft: 0,\n                excUp: 0,\n                excDown: 0,\n                startPoints: [],\n                endPoints: [],\n                mainDivPos: {\n                  x: 0,\n                  y: 0\n                },\n                xSign: 1,\n                ySign: 1,\n                lineLength: 0,\n                fHeadSize: 1,\n                fTailSize: 1,\n                arrowPath: \"\",\n                labelStartPos: {\n                  x: 0,\n                  y: 0\n                },\n                labelMiddlePos: {\n                  x: 0,\n                  y: 0\n                },\n                labelEndPos: {\n                  x: 0,\n                  y: 0\n                }\n              }),\n              st = _e[0],\n              setSt = _e[1];\n            /**\r\n             * The Main logic of path calculation for the arrow.\r\n             * calculate new path, adjusting canvas, and set state based on given properties.\r\n             * */\n            react_1.useLayoutEffect(function () {\n              if (shouldUpdatePosition.current) {\n                // log('xarrow getPosition');\n                var pos = GetPosition_1.getPosition(xProps, mainRef);\n                // log('pos', pos);\n                setSt(pos);\n                shouldUpdatePosition.current = false;\n              }\n            });\n            // log('st', st);\n            var xOffsetHead = st.x2 - st.arrowHeadOffset.x;\n            var yOffsetHead = st.y2 - st.arrowHeadOffset.y;\n            var xOffsetTail = st.x1 - st.arrowTailOffset.x;\n            var yOffsetTail = st.y1 - st.arrowTailOffset.y;\n            var dashoffset = dashness.strokeLen + dashness.nonStrokeLen;\n            var animDirection = 1;\n            if (dashness.animation < 0) {\n              dashness.animation *= -1;\n              animDirection = -1;\n            }\n            var dashArray,\n              animation,\n              animRepeatCount,\n              animStartValue,\n              animEndValue = 0;\n            if (animateDrawing && drawAnimEnded == false) {\n              if (typeof animateDrawing === 'boolean') animateDrawing = 1;\n              animation = animateDrawing + 's';\n              dashArray = st.lineLength;\n              animStartValue = st.lineLength;\n              animRepeatCount = 1;\n              if (animateDrawing < 0) {\n                _a = [animEndValue, animStartValue], animStartValue = _a[0], animEndValue = _a[1];\n                animation = animateDrawing * -1 + 's';\n              }\n            } else {\n              dashArray = dashness.strokeLen + \" \" + dashness.nonStrokeLen;\n              animation = 1 / dashness.animation + \"s\";\n              animStartValue = dashoffset * animDirection;\n              animRepeatCount = 'indefinite';\n              animEndValue = 0;\n            }\n            // handle draw animation\n            react_1.useLayoutEffect(function () {\n              if (lineRef.current) setSt(function (prevSt) {\n                var _a, _b;\n                return __assign(__assign({}, prevSt), {\n                  lineLength: (_b = (_a = lineRef.current) === null || _a === void 0 ? void 0 : _a.getTotalLength()) !== null && _b !== void 0 ? _b : 0\n                });\n              });\n            }, [lineRef.current]);\n            // set all props on first render\n            react_1.useEffect(function () {\n              var monitorDOMchanges = function () {\n                window.addEventListener('resize', forceRerender);\n                var handleDrawAmimEnd = function () {\n                  var _a, _b;\n                  setDrawAnimEnded(true);\n                  // @ts-ignore\n                  (_a = headOpacityAnimRef.current) === null || _a === void 0 ? void 0 : _a.beginElement();\n                  // @ts-ignore\n                  (_b = lineDashAnimRef.current) === null || _b === void 0 ? void 0 : _b.beginElement();\n                };\n                var handleDrawAmimBegin = function () {\n                  return headRef.current.style.opacity = '0';\n                };\n                if (lineDrawAnimRef.current && headRef.current) {\n                  lineDrawAnimRef.current.addEventListener('endEvent', handleDrawAmimEnd);\n                  lineDrawAnimRef.current.addEventListener('beginEvent', handleDrawAmimBegin);\n                }\n                return function () {\n                  window.removeEventListener('resize', forceRerender);\n                  if (lineDrawAnimRef.current) {\n                    lineDrawAnimRef.current.removeEventListener('endEvent', handleDrawAmimEnd);\n                    if (headRef.current) lineDrawAnimRef.current.removeEventListener('beginEvent', handleDrawAmimBegin);\n                  }\n                };\n              };\n              var cleanMonitorDOMchanges = monitorDOMchanges();\n              return function () {\n                setDrawAnimEnded(false);\n                cleanMonitorDOMchanges();\n              };\n            }, [showXarrow]);\n            //todo: could make some advanced generic typescript inferring. for example get type from headShape.elem:T and\n            // tailShape.elem:K force the type for passProps,arrowHeadProps,arrowTailProps property. for now `as any` is used to\n            // avoid typescript conflicts\n            // so todo- fix all the `passProps as any` assertions\n            return react_1.default.createElement(\"div\", __assign({}, divContainerProps, {\n              style: __assign({\n                position: 'absolute',\n                zIndex: zIndex\n              }, divContainerStyle)\n            }), showXarrow ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"svg\", __assign({\n              ref: svgRef,\n              width: st.cw,\n              height: st.ch,\n              style: __assign({\n                position: 'absolute',\n                left: st.cx0,\n                top: st.cy0,\n                pointerEvents: 'none',\n                border: _debug ? '1px dashed yellow' : null\n              }, SVGcanvasStyle),\n              overflow: \"auto\"\n            }, SVGcanvasProps), react_1.default.createElement(\"path\", __assign({\n              ref: lineRef,\n              d: st.arrowPath,\n              stroke: lineColor,\n              strokeDasharray: dashArray,\n              // strokeDasharray={'0 0'}\n              strokeWidth: strokeWidth,\n              fill: \"transparent\",\n              pointerEvents: \"visibleStroke\"\n            }, passProps, arrowBodyProps), react_1.default.createElement(react_1.default.Fragment, null, drawAnimEnded ? react_1.default.createElement(react_1.default.Fragment, null, dashness.animation ? react_1.default.createElement(\"animate\", {\n              ref: lineDashAnimRef,\n              attributeName: \"stroke-dashoffset\",\n              values: dashoffset * animDirection + \";0\",\n              dur: 1 / dashness.animation + \"s\",\n              repeatCount: \"indefinite\"\n            }) : null) : react_1.default.createElement(react_1.default.Fragment, null, animateDrawing ? react_1.default.createElement(\"animate\", {\n              ref: lineDrawAnimRef,\n              id: \"svgEndAnimate\",\n              attributeName: \"stroke-dashoffset\",\n              values: animStartValue + \";\" + animEndValue,\n              dur: animation,\n              repeatCount: animRepeatCount\n            }) : null))), showTail ? react_1.default.createElement(\"g\", __assign({\n              fill: tailColor,\n              pointerEvents: \"auto\",\n              transform: \"translate(\" + xOffsetTail + \",\" + yOffsetTail + \") rotate(\" + st.tailOrient + \") scale(\" + st.fTailSize + \")\"\n            }, passProps, arrowTailProps), tailShape.svgElem) : null, showHead ? react_1.default.createElement(\"g\", __assign({\n              ref: headRef,\n              // d={normalArrowShape}\n              fill: headColor,\n              pointerEvents: \"auto\",\n              transform: \"translate(\" + xOffsetHead + \",\" + yOffsetHead + \") rotate(\" + st.headOrient + \") scale(\" + st.fHeadSize + \")\",\n              opacity: animateDrawing && !drawAnimEnded ? 0 : 1\n            }, passProps, arrowHeadProps), react_1.default.createElement(\"animate\", {\n              ref: headOpacityAnimRef,\n              dur: '0.4',\n              attributeName: \"opacity\",\n              from: \"0\",\n              to: \"1\",\n              begin: \"indefinite\",\n              repeatCount: \"0\",\n              fill: \"freeze\"\n            }), headShape.svgElem) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"circle\", {\n              r: \"5\",\n              cx: st.cpx1,\n              cy: st.cpy1,\n              fill: \"green\"\n            }), react_1.default.createElement(\"circle\", {\n              r: \"5\",\n              cx: st.cpx2,\n              cy: st.cpy2,\n              fill: \"blue\"\n            }), react_1.default.createElement(\"rect\", {\n              x: st.excLeft,\n              y: st.excUp,\n              width: st.absDx,\n              height: st.absDy,\n              fill: \"none\",\n              stroke: \"pink\",\n              strokeWidth: \"2px\"\n            })) : null), labels.start ? react_1.default.createElement(\"div\", {\n              style: {\n                transform: st.dx < 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n                width: 'max-content',\n                position: 'absolute',\n                left: st.cx0 + st.labelStartPos.x,\n                top: st.cy0 + st.labelStartPos.y - strokeWidth - 5\n              }\n            }, labels.start) : null, labels.middle ? react_1.default.createElement(\"div\", {\n              style: {\n                display: 'table',\n                width: 'max-content',\n                transform: 'translate(-50% , -50%)',\n                position: 'absolute',\n                left: st.cx0 + st.labelMiddlePos.x,\n                top: st.cy0 + st.labelMiddlePos.y\n              }\n            }, labels.middle) : null, labels.end ? react_1.default.createElement(\"div\", {\n              style: {\n                transform: st.dx > 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n                width: 'max-content',\n                position: 'absolute',\n                left: st.cx0 + st.labelEndPos.x,\n                top: st.cy0 + st.labelEndPos.y + strokeWidth + 5\n              }\n            }, labels.end) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, __spreadArray(__spreadArray([], st.startPoints), st.endPoints).map(function (p, i) {\n              return react_1.default.createElement(\"div\", {\n                key: i,\n                style: {\n                  background: 'gray',\n                  opacity: 0.5,\n                  borderRadius: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  height: 5,\n                  width: 5,\n                  position: 'absolute',\n                  left: p.x - st.mainDivPos.x,\n                  top: p.y - st.mainDivPos.y\n                }\n              });\n            })) : null) : null);\n          };\n          //////////////////////////////\n          // propTypes\n          Xarrow.propTypes = propTypes_1.default;\n          exports.default = Xarrow;\n\n          /***/\n        },\n\n        /***/\"./src/Xarrow/anchors.ts\":\n        /*!*******************************!*\\\n          !*** ./src/Xarrow/anchors.ts ***!\n          \\*******************************/\n        /***/\n        function (module, exports, __webpack_require__) {\n          /* module decorator */module = __webpack_require__.nmd(module);\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.calcAnchors = void 0;\n          var getAnchorsDefaultOffsets = function (width, height) {\n            return {\n              middle: {\n                x: width * 0.5,\n                y: height * 0.5\n              },\n              left: {\n                x: 0,\n                y: height * 0.5\n              },\n              right: {\n                x: width,\n                y: height * 0.5\n              },\n              top: {\n                x: width * 0.5,\n                y: 0\n              },\n              bottom: {\n                x: width * 0.5,\n                y: height\n              }\n            };\n          };\n          var calcAnchors = function (anchors, anchorPos) {\n            // now prepare this list of anchors to object expected by the `getShortestLine` function\n            return anchors.map(function (anchor) {\n              var defsOffsets = getAnchorsDefaultOffsets(anchorPos.right - anchorPos.x, anchorPos.bottom - anchorPos.y);\n              var _a = defsOffsets[anchor.position],\n                x = _a.x,\n                y = _a.y;\n              return {\n                x: anchorPos.x + x + anchor.offset.x,\n                y: anchorPos.y + y + anchor.offset.y,\n                anchor: anchor\n              };\n            });\n          };\n          exports.calcAnchors = calcAnchors;\n          if (__webpack_require__.c[__webpack_require__.s] === module) {\n            // const res = parseAnchor(['auto'], {\n            //   x: 0,\n            //   y: 0,\n            //   bottom: 10,\n            //   right: 20,\n            // });\n            // console.log(res);\n          }\n\n          /***/\n        },\n\n        /***/\"./src/Xarrow/propTypes.ts\":\n        /*!*********************************!*\\\n          !*** ./src/Xarrow/propTypes.ts ***!\n          \\*********************************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          var prop_types_1 = __importDefault(__webpack_require__( /*! prop-types */\"prop-types\"));\n          var constants_1 = __webpack_require__( /*! ../constants */\"./src/constants.tsx\");\n          var pAnchorPositionType = prop_types_1.default.oneOf(constants_1.cAnchorEdge);\n          var pAnchorCustomPositionType = prop_types_1.default.exact({\n            position: pAnchorPositionType.isRequired,\n            offset: prop_types_1.default.exact({\n              x: prop_types_1.default.number,\n              y: prop_types_1.default.number\n            }).isRequired\n          });\n          var _pAnchorType = prop_types_1.default.oneOfType([pAnchorPositionType, pAnchorCustomPositionType]);\n          var pAnchorType = prop_types_1.default.oneOfType([_pAnchorType, prop_types_1.default.arrayOf(_pAnchorType)]);\n          var pRefType = prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.exact({\n            current: prop_types_1.default.any\n          })]);\n          var _pLabelType = prop_types_1.default.oneOfType([prop_types_1.default.element, prop_types_1.default.string]);\n          var pLabelsType = prop_types_1.default.exact({\n            start: _pLabelType,\n            middle: _pLabelType,\n            end: _pLabelType\n          });\n          var pSvgEdgeShapeType = prop_types_1.default.oneOf(Object.keys(constants_1.arrowShapes));\n          // const pSvgElemType = PT.oneOf(cSvgElems);\n          var pSvgElemType = prop_types_1.default.any;\n          var pSvgEdgeType = prop_types_1.default.oneOfType([pSvgEdgeShapeType, prop_types_1.default.exact({\n            svgElem: pSvgElemType,\n            offsetForward: prop_types_1.default.number\n          }).isRequired]);\n          var XarrowPropTypes = {\n            start: pRefType.isRequired,\n            end: pRefType.isRequired,\n            startAnchor: pAnchorType,\n            endAnchor: pAnchorType,\n            labels: prop_types_1.default.oneOfType([_pLabelType, pLabelsType]),\n            color: prop_types_1.default.string,\n            lineColor: prop_types_1.default.string,\n            showHead: prop_types_1.default.bool,\n            headColor: prop_types_1.default.string,\n            headSize: prop_types_1.default.number,\n            tailSize: prop_types_1.default.number,\n            tailColor: prop_types_1.default.string,\n            strokeWidth: prop_types_1.default.number,\n            showTail: prop_types_1.default.bool,\n            path: prop_types_1.default.oneOf(constants_1.cPaths),\n            showXarrow: prop_types_1.default.bool,\n            curveness: prop_types_1.default.number,\n            gridBreak: prop_types_1.default.string,\n            dashness: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.object]),\n            headShape: pSvgEdgeType,\n            tailShape: pSvgEdgeType,\n            animateDrawing: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.number]),\n            zIndex: prop_types_1.default.number,\n            passProps: prop_types_1.default.object,\n            arrowBodyProps: prop_types_1.default.object,\n            arrowHeadProps: prop_types_1.default.object,\n            arrowTailProps: prop_types_1.default.object,\n            SVGcanvasProps: prop_types_1.default.object,\n            divContainerProps: prop_types_1.default.object,\n            _extendSVGcanvas: prop_types_1.default.number,\n            _debug: prop_types_1.default.bool,\n            _cpx1Offset: prop_types_1.default.number,\n            _cpy1Offset: prop_types_1.default.number,\n            _cpx2Offset: prop_types_1.default.number,\n            _cpy2Offset: prop_types_1.default.number\n          };\n          exports.default = XarrowPropTypes;\n\n          /***/\n        },\n\n        /***/\"./src/Xarrow/useXarrowProps.ts\":\n        /*!**************************************!*\\\n          !*** ./src/Xarrow/useXarrowProps.ts ***!\n          \\**************************************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __assign = this && this.__assign || function () {\n            __assign = Object.assign || function (t) {\n              for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n              }\n              return t;\n            };\n            return __assign.apply(this, arguments);\n          };\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n            __setModuleDefault(result, mod);\n            return result;\n          };\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          var react_1 = __importStar(__webpack_require__( /*! react */\"react\"));\n          var utils_1 = __webpack_require__( /*! ./utils */\"./src/Xarrow/utils/index.ts\");\n          var lodash_1 = __importDefault(__webpack_require__( /*! lodash */\"lodash\"));\n          var constants_1 = __webpack_require__( /*! ../constants */\"./src/constants.tsx\");\n          var parseLabels = function (label) {\n            var parsedLabel = {\n              start: null,\n              middle: null,\n              end: null\n            };\n            if (label) {\n              if (typeof label === 'string' || react_1.default.isValidElement(label)) parsedLabel.middle = label;else {\n                for (var key in label) {\n                  parsedLabel[key] = label[key];\n                }\n              }\n            }\n            return parsedLabel;\n          };\n          var parseAnchor = function (anchor) {\n            // convert to array\n            var anchorChoice = Array.isArray(anchor) ? anchor : [anchor];\n            //convert to array of objects\n            var anchorChoice2 = anchorChoice.map(function (anchorChoice) {\n              if (typeof anchorChoice === 'string') {\n                return {\n                  position: anchorChoice\n                };\n              } else return anchorChoice;\n            });\n            //remove any invalid anchor names\n            anchorChoice2 = anchorChoice2.filter(function (an) {\n              return constants_1.cAnchorEdge.includes(an.position);\n            });\n            if (anchorChoice2.length == 0) anchorChoice2 = [{\n              position: 'auto'\n            }];\n            //replace any 'auto' with ['left','right','bottom','top']\n            var autosAncs = anchorChoice2.filter(function (an) {\n              return an.position === 'auto';\n            });\n            if (autosAncs.length > 0) {\n              anchorChoice2 = anchorChoice2.filter(function (an) {\n                return an.position !== 'auto';\n              });\n              anchorChoice2.push.apply(anchorChoice2, autosAncs.flatMap(function (anchorObj) {\n                return ['left', 'right', 'top', 'bottom'].map(function (anchorName) {\n                  return __assign(__assign({}, anchorObj), {\n                    position: anchorName\n                  });\n                });\n              }));\n            }\n            // default values\n            var anchorChoice3 = anchorChoice2.map(function (anchorChoice) {\n              if (typeof anchorChoice === 'object') {\n                var anchorChoiceCustom = anchorChoice;\n                if (!anchorChoiceCustom.position) anchorChoiceCustom.position = 'auto';\n                if (!anchorChoiceCustom.offset) anchorChoiceCustom.offset = {\n                  x: 0,\n                  y: 0\n                };\n                if (!anchorChoiceCustom.offset.y) anchorChoiceCustom.offset.y = 0;\n                if (!anchorChoiceCustom.offset.x) anchorChoiceCustom.offset.x = 0;\n                anchorChoiceCustom = anchorChoiceCustom;\n                return anchorChoiceCustom;\n              } else return anchorChoice;\n            });\n            return anchorChoice3;\n          };\n          var parseDashness = function (dashness, props) {\n            var dashStroke = 0,\n              dashNone = 0,\n              animDashSpeed,\n              animDirection = 1;\n            if (typeof dashness === 'object') {\n              dashStroke = dashness.strokeLen || props.strokeWidth * 2;\n              dashNone = dashness.strokeLen ? dashness.nonStrokeLen : props.strokeWidth;\n              animDashSpeed = dashness.animation ? dashness.animation : null;\n            } else if (typeof dashness === 'boolean' && dashness) {\n              dashStroke = props.strokeWidth * 2;\n              dashNone = props.strokeWidth;\n              animDashSpeed = null;\n            }\n            return {\n              strokeLen: dashStroke,\n              nonStrokeLen: dashNone,\n              animation: animDashSpeed,\n              animDirection: animDirection\n            };\n          };\n          var parseEdgeShape = function (svgEdge) {\n            if (typeof svgEdge == 'string') {\n              if (svgEdge in constants_1.arrowShapes) svgEdge = constants_1.arrowShapes[svgEdge];else {\n                console.warn(\"'\" + svgEdge + \"' is not supported arrow shape. the supported arrow shapes is one of \" + constants_1.cArrowShapes + \".\\n           reverting to default shape.\");\n                svgEdge = constants_1.arrowShapes['arrow1'];\n              }\n            }\n            svgEdge = svgEdge;\n            if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.offsetForward) === undefined) svgEdge.offsetForward = 0.25;\n            if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.svgElem) === undefined) svgEdge.svgElem = 'path';\n            // if (svgEdge?.svgProps === undefined) svgEdge.svgProps = arrowShapes.arrow1.svgProps;\n            return svgEdge;\n          };\n          var parseGridBreak = function (gridBreak) {\n            var resGridBreak = utils_1.xStr2absRelative(gridBreak);\n            if (!resGridBreak) resGridBreak = {\n              relative: 0.5,\n              abs: 0\n            };\n            return resGridBreak;\n          };\n          /**\r\n           * should be wrapped with any changed prop that is affecting the points path positioning\r\n           * @param propVal\r\n           * @param updateRef\r\n           */\n          var withUpdate = function (propVal, updateRef) {\n            if (updateRef) updateRef.current = true;\n            return propVal;\n          };\n          var noParse = function (userProp) {\n            return userProp;\n          };\n          var noParseWithUpdatePos = function (userProp, _, updatePos) {\n            return withUpdate(userProp, updatePos);\n          };\n          var parseNumWithUpdatePos = function (userProp, _, updatePos) {\n            return withUpdate(Number(userProp), updatePos);\n          };\n          var parseNum = function (userProp) {\n            return Number(userProp);\n          };\n          var parsePropsFuncs = {\n            start: function (userProp) {\n              return utils_1.getElementByPropGiven(userProp);\n            },\n            end: function (userProp) {\n              return utils_1.getElementByPropGiven(userProp);\n            },\n            startAnchor: function (userProp, _, updatePos) {\n              return withUpdate(parseAnchor(userProp), updatePos);\n            },\n            endAnchor: function (userProp, _, updatePos) {\n              return withUpdate(parseAnchor(userProp), updatePos);\n            },\n            labels: function (userProp) {\n              return parseLabels(userProp);\n            },\n            color: noParse,\n            lineColor: function (userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            headColor: function (userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            tailColor: function (userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            strokeWidth: parseNumWithUpdatePos,\n            showHead: noParseWithUpdatePos,\n            headSize: parseNumWithUpdatePos,\n            showTail: noParseWithUpdatePos,\n            tailSize: parseNumWithUpdatePos,\n            path: noParseWithUpdatePos,\n            curveness: parseNumWithUpdatePos,\n            gridBreak: function (userProp, _, updatePos) {\n              return withUpdate(parseGridBreak(userProp), updatePos);\n            },\n            // // gridRadius = strokeWidth * 2, //todo\n            dashness: function (userProp, propsRefs) {\n              return parseDashness(userProp, propsRefs);\n            },\n            headShape: function (userProp) {\n              return parseEdgeShape(userProp);\n            },\n            tailShape: function (userProp) {\n              return parseEdgeShape(userProp);\n            },\n            showXarrow: noParse,\n            animateDrawing: noParse,\n            zIndex: parseNum,\n            passProps: noParse,\n            arrowBodyProps: noParseWithUpdatePos,\n            arrowHeadProps: noParseWithUpdatePos,\n            arrowTailProps: noParseWithUpdatePos,\n            SVGcanvasProps: noParseWithUpdatePos,\n            divContainerProps: noParseWithUpdatePos,\n            divContainerStyle: noParseWithUpdatePos,\n            SVGcanvasStyle: noParseWithUpdatePos,\n            _extendSVGcanvas: noParseWithUpdatePos,\n            _debug: noParseWithUpdatePos,\n            _cpx1Offset: noParseWithUpdatePos,\n            _cpy1Offset: noParseWithUpdatePos,\n            _cpx2Offset: noParseWithUpdatePos,\n            _cpy2Offset: noParseWithUpdatePos\n          };\n          //build dependencies\n          var propsDeps = {};\n          //each prop depends on himself\n          for (var propName in parsePropsFuncs) {\n            propsDeps[propName] = [propName];\n          }\n          // 'lineColor', 'headColor', 'tailColor' props also depends on 'color' prop\n          for (var _i = 0, _a = ['lineColor', 'headColor', 'tailColor']; _i < _a.length; _i++) {\n            var propName = _a[_i];\n            propsDeps[propName].push('color');\n          }\n          var parseGivenProps = function (props, propsRef) {\n            var _a;\n            for (var _i = 0, _b = Object.entries(props); _i < _b.length; _i++) {\n              var _c = _b[_i],\n                name_1 = _c[0],\n                val = _c[1];\n              propsRef[name_1] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[name_1]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, val, propsRef);\n            }\n            return propsRef;\n          };\n          var defaultProps = {\n            start: null,\n            end: null,\n            startAnchor: 'auto',\n            endAnchor: 'auto',\n            labels: null,\n            color: 'CornflowerBlue',\n            lineColor: null,\n            headColor: null,\n            tailColor: null,\n            strokeWidth: 4,\n            showHead: true,\n            headSize: 6,\n            showTail: false,\n            tailSize: 6,\n            path: 'smooth',\n            curveness: 0.8,\n            gridBreak: '50%',\n            // gridRadius : strokeWidth * 2, //todo\n            dashness: false,\n            headShape: 'arrow1',\n            tailShape: 'arrow1',\n            showXarrow: true,\n            animateDrawing: false,\n            zIndex: 0,\n            passProps: {},\n            arrowBodyProps: {},\n            arrowHeadProps: {},\n            arrowTailProps: {},\n            SVGcanvasProps: {},\n            divContainerProps: {},\n            divContainerStyle: {},\n            SVGcanvasStyle: {},\n            _extendSVGcanvas: 0,\n            _debug: false,\n            _cpx1Offset: 0,\n            _cpy1Offset: 0,\n            _cpx2Offset: 0,\n            _cpy2Offset: 0\n          };\n          var initialParsedProps = {};\n          initialParsedProps = parseGivenProps(defaultProps, initialParsedProps);\n          var initialValVars = {\n            startPos: {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            },\n            endPos: {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            }\n          };\n          // const parseAllProps = () => parseGivenProps(defaultProps, initialParsedProps);\n          function deepCompareEquals(a, b) {\n            return lodash_1.default.isEqual(a, b);\n          }\n          function useDeepCompareMemoize(value) {\n            var ref = react_1.useRef();\n            // it can be done by using useMemo as well\n            // but useRef is rather cleaner and easier\n            if (!deepCompareEquals(value, ref.current)) {\n              ref.current = value;\n            }\n            return ref.current;\n          }\n          function useDeepCompareEffect(callback, dependencies) {\n            react_1.useLayoutEffect(callback, dependencies.map(useDeepCompareMemoize));\n          }\n          /**\r\n           * smart hook that provides parsed props to Xarrow and will trigger rerender whenever given prop is changed.\r\n           */\n          var useXarrowProps = function (userProps, refs) {\n            var _a = react_1.useState(initialParsedProps),\n              propsRefs = _a[0],\n              setPropsRefs = _a[1];\n            var shouldUpdatePosition = react_1.useRef(false);\n            // const _propsRefs = useRef(initialParsedProps);\n            // const propsRefs = _propsRefs.current;\n            propsRefs['shouldUpdatePosition'] = shouldUpdatePosition;\n            var curProps = __assign(__assign({}, defaultProps), userProps);\n            var _loop_1 = function (propName) {\n              react_1.useLayoutEffect(function () {\n                var _a;\n                propsRefs[propName] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[propName]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, curProps[propName], propsRefs, shouldUpdatePosition);\n                // console.log('prop update:', propName, 'with value', propsRefs[propName]);\n                setPropsRefs(__assign({}, propsRefs));\n              }, propsDeps[propName].map(function (name) {\n                return userProps[name];\n              }));\n            };\n            // react states the number of hooks per render must stay constant,\n            // this is ok we are using these hooks in a loop, because the number of props in defaultProps is constant,\n            // so the number of hook we will fire each render will always be the same.\n            // update the value of the ref that represents the corresponding prop\n            // for example: if given 'start' prop would change call getElementByPropGiven(props.start) and save value into propsRefs.start.current\n            // why to save refs to props parsed values? some of the props require relatively expensive computations(like 'start' and 'startAnchor').\n            // this will always run in the same order and THAT'S WAY ITS LEGAL\n            for (var propName in defaultProps) {\n              _loop_1(propName);\n            }\n            // rerender whenever position of start element or end element changes\n            var _b = react_1.useState(initialValVars),\n              valVars = _b[0],\n              setValVars = _b[1];\n            var startPos = utils_1.getElemPos(propsRefs.start);\n            useDeepCompareEffect(function () {\n              valVars.startPos = startPos;\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars));\n              // console.log('start update pos', startPos);\n            }, [startPos]);\n            var endPos = utils_1.getElemPos(propsRefs.end);\n            useDeepCompareEffect(function () {\n              valVars.endPos = endPos;\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars));\n              // console.log('end update pos', endPos);\n            }, [endPos]);\n            react_1.useLayoutEffect(function () {\n              // console.log('svg shape changed!');\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars));\n            }, [propsRefs.headShape.svgElem, propsRefs.tailShape.svgElem]);\n            return [propsRefs, valVars];\n          };\n          exports.default = useXarrowProps;\n\n          /***/\n        },\n\n        /***/\"./src/Xarrow/utils/GetPosition.tsx\":\n        /*!******************************************!*\\\n          !*** ./src/Xarrow/utils/GetPosition.tsx ***!\n          \\******************************************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.getPosition = void 0;\n          var anchors_1 = __webpack_require__( /*! ../anchors */\"./src/Xarrow/anchors.ts\");\n          var index_1 = __webpack_require__( /*! ./index */\"./src/Xarrow/utils/index.ts\");\n          var lodash_1 = __importDefault(__webpack_require__( /*! lodash */\"lodash\"));\n          var constants_1 = __webpack_require__( /*! ../../constants */\"./src/constants.tsx\");\n          var buzzier_1 = __webpack_require__( /*! ./buzzier */\"./src/Xarrow/utils/buzzier.js\");\n          /**\r\n           * The Main logic of path calculation for the arrow.\r\n           * calculate new path, adjusting canvas, and set state based on given properties.\r\n           * */\n          var getPosition = function (xProps, mainRef) {\n            var _a, _b;\n            var _c, _d;\n            var propsRefs = xProps[0],\n              valVars = xProps[1];\n            var startAnchor = propsRefs.startAnchor,\n              endAnchor = propsRefs.endAnchor,\n              strokeWidth = propsRefs.strokeWidth,\n              showHead = propsRefs.showHead,\n              headSize = propsRefs.headSize,\n              showTail = propsRefs.showTail,\n              tailSize = propsRefs.tailSize,\n              path = propsRefs.path,\n              curveness = propsRefs.curveness,\n              gridBreak = propsRefs.gridBreak,\n              headShape = propsRefs.headShape,\n              tailShape = propsRefs.tailShape,\n              _extendSVGcanvas = propsRefs._extendSVGcanvas,\n              _cpx1Offset = propsRefs._cpx1Offset,\n              _cpy1Offset = propsRefs._cpy1Offset,\n              _cpx2Offset = propsRefs._cpx2Offset,\n              _cpy2Offset = propsRefs._cpy2Offset;\n            var startPos = valVars.startPos,\n              endPos = valVars.endPos;\n            var _e = mainRef.current,\n              svgRef = _e.svgRef,\n              lineRef = _e.lineRef;\n            var headOrient = 0;\n            var tailOrient = 0;\n            // convert startAnchor and endAnchor to list of objects represents allowed anchors.\n            var startPoints = anchors_1.calcAnchors(startAnchor, startPos);\n            var endPoints = anchors_1.calcAnchors(endAnchor, endPos);\n            // choose the smallest path for 2 points from these possibilities.\n            var _f = index_1.getShortestLine(startPoints, endPoints),\n              chosenStart = _f.chosenStart,\n              chosenEnd = _f.chosenEnd;\n            var startAnchorPosition = chosenStart.anchor.position,\n              endAnchorPosition = chosenEnd.anchor.position;\n            var startPoint = lodash_1.default.pick(chosenStart, ['x', 'y']),\n              endPoint = lodash_1.default.pick(chosenEnd, ['x', 'y']);\n            var mainDivPos = index_1.getSvgPos(svgRef);\n            var cx0 = Math.min(startPoint.x, endPoint.x) - mainDivPos.x;\n            var cy0 = Math.min(startPoint.y, endPoint.y) - mainDivPos.y;\n            var dx = endPoint.x - startPoint.x;\n            var dy = endPoint.y - startPoint.y;\n            var absDx = Math.abs(endPoint.x - startPoint.x);\n            var absDy = Math.abs(endPoint.y - startPoint.y);\n            var xSign = dx > 0 ? 1 : -1;\n            var ySign = dy > 0 ? 1 : -1;\n            var _g = [headShape.offsetForward, tailShape.offsetForward],\n              headOffset = _g[0],\n              tailOffset = _g[1];\n            var fHeadSize = headSize * strokeWidth; //factored head size\n            var fTailSize = tailSize * strokeWidth; //factored head size\n            // const { current: _headBox } = headBox;\n            var xHeadOffset = 0;\n            var yHeadOffset = 0;\n            var xTailOffset = 0;\n            var yTailOffset = 0;\n            var _headOffset = fHeadSize * headOffset;\n            var _tailOffset = fTailSize * tailOffset;\n            var cu = Number(curveness);\n            // gridRadius = Number(gridRadius);\n            if (!constants_1.cPaths.includes(path)) path = 'smooth';\n            if (path === 'straight') {\n              cu = 0;\n              path = 'smooth';\n            }\n            var biggerSide = headSize > tailSize ? headSize : tailSize;\n            var _calc = strokeWidth + strokeWidth * biggerSide / 2;\n            var excRight = _calc;\n            var excLeft = _calc;\n            var excUp = _calc;\n            var excDown = _calc;\n            excLeft += Number(_extendSVGcanvas);\n            excRight += Number(_extendSVGcanvas);\n            excUp += Number(_extendSVGcanvas);\n            excDown += Number(_extendSVGcanvas);\n            ////////////////////////////////////\n            // arrow point to point calculations\n            var x1 = 0,\n              x2 = absDx,\n              y1 = 0,\n              y2 = absDy;\n            if (dx < 0) _a = [x2, x1], x1 = _a[0], x2 = _a[1];\n            if (dy < 0) _b = [y2, y1], y1 = _b[0], y2 = _b[1];\n            ////////////////////////////////////\n            // arrow curviness and arrowhead placement calculations\n            if (cu === 0) {\n              // in case of straight path\n              var headAngel = Math.atan(absDy / absDx);\n              if (showHead) {\n                x2 -= fHeadSize * (1 - headOffset) * xSign * Math.cos(headAngel);\n                y2 -= fHeadSize * (1 - headOffset) * ySign * Math.sin(headAngel);\n                headAngel *= ySign;\n                if (xSign < 0) headAngel = (Math.PI - headAngel * xSign) * xSign;\n                xHeadOffset = Math.cos(headAngel) * _headOffset - Math.sin(headAngel) * fHeadSize / 2;\n                yHeadOffset = Math.cos(headAngel) * fHeadSize / 2 + Math.sin(headAngel) * _headOffset;\n                headOrient = headAngel * 180 / Math.PI;\n              }\n              var tailAngel = Math.atan(absDy / absDx);\n              if (showTail) {\n                x1 += fTailSize * (1 - tailOffset) * xSign * Math.cos(tailAngel);\n                y1 += fTailSize * (1 - tailOffset) * ySign * Math.sin(tailAngel);\n                tailAngel *= -ySign;\n                if (xSign > 0) tailAngel = (Math.PI - tailAngel * xSign) * xSign;\n                xTailOffset = Math.cos(tailAngel) * _tailOffset - Math.sin(tailAngel) * fTailSize / 2;\n                yTailOffset = Math.cos(tailAngel) * fTailSize / 2 + Math.sin(tailAngel) * _tailOffset;\n                tailOrient = tailAngel * 180 / Math.PI;\n              }\n            } else {\n              // in case of smooth path\n              if (endAnchorPosition === 'middle') {\n                // in case a middle anchor is chosen for endAnchor choose from which side to attach to the middle of the element\n                if (absDx > absDy) {\n                  endAnchorPosition = xSign ? 'left' : 'right';\n                } else {\n                  endAnchorPosition = ySign ? 'top' : 'bottom';\n                }\n              }\n              if (showHead) {\n                if (['left', 'right'].includes(endAnchorPosition)) {\n                  xHeadOffset += _headOffset * xSign;\n                  x2 -= fHeadSize * (1 - headOffset) * xSign; //same!\n                  yHeadOffset += fHeadSize * xSign / 2;\n                  if (endAnchorPosition === 'left') {\n                    headOrient = 0;\n                    if (xSign < 0) headOrient += 180;\n                  } else {\n                    headOrient = 180;\n                    if (xSign > 0) headOrient += 180;\n                  }\n                } else if (['top', 'bottom'].includes(endAnchorPosition)) {\n                  xHeadOffset += fHeadSize * -ySign / 2;\n                  yHeadOffset += _headOffset * ySign;\n                  y2 -= fHeadSize * ySign - yHeadOffset;\n                  if (endAnchorPosition === 'top') {\n                    headOrient = 270;\n                    if (ySign > 0) headOrient += 180;\n                  } else {\n                    headOrient = 90;\n                    if (ySign < 0) headOrient += 180;\n                  }\n                }\n              }\n            }\n            if (showTail && cu !== 0) {\n              if (['left', 'right'].includes(startAnchorPosition)) {\n                xTailOffset += _tailOffset * -xSign;\n                x1 += fTailSize * xSign + xTailOffset;\n                yTailOffset += -(fTailSize * xSign) / 2;\n                if (startAnchorPosition === 'left') {\n                  tailOrient = 180;\n                  if (xSign < 0) tailOrient += 180;\n                } else {\n                  tailOrient = 0;\n                  if (xSign > 0) tailOrient += 180;\n                }\n              } else if (['top', 'bottom'].includes(startAnchorPosition)) {\n                yTailOffset += _tailOffset * -ySign;\n                y1 += fTailSize * ySign + yTailOffset;\n                xTailOffset += fTailSize * ySign / 2;\n                if (startAnchorPosition === 'top') {\n                  tailOrient = 90;\n                  if (ySign > 0) tailOrient += 180;\n                } else {\n                  tailOrient = 270;\n                  if (ySign < 0) tailOrient += 180;\n                }\n              }\n            }\n            var arrowHeadOffset = {\n              x: xHeadOffset,\n              y: yHeadOffset\n            };\n            var arrowTailOffset = {\n              x: xTailOffset,\n              y: yTailOffset\n            };\n            var cpx1 = x1,\n              cpy1 = y1,\n              cpx2 = x2,\n              cpy2 = y2;\n            var curvesPossibilities = {};\n            if (path === 'smooth') curvesPossibilities = {\n              hh: function () {\n                //horizontal - from right to left or the opposite\n                cpx1 += absDx * cu * xSign;\n                cpx2 -= absDx * cu * xSign;\n              },\n              vv: function () {\n                //vertical - from top to bottom or opposite\n                cpy1 += absDy * cu * ySign;\n                cpy2 -= absDy * cu * ySign;\n              },\n              hv: function () {\n                // start horizontally then vertically\n                // from v side to h side\n                cpx1 += absDx * cu * xSign;\n                cpy2 -= absDy * cu * ySign;\n              },\n              vh: function () {\n                // start vertically then horizontally\n                // from h side to v side\n                cpy1 += absDy * cu * ySign;\n                cpx2 -= absDx * cu * xSign;\n              }\n            };else if (path === 'grid') {\n              curvesPossibilities = {\n                hh: function () {\n                  cpx1 += (absDx * gridBreak.relative + gridBreak.abs) * xSign;\n                  cpx2 -= (absDx * (1 - gridBreak.relative) - gridBreak.abs) * xSign;\n                  if (showHead) {\n                    cpx1 -= fHeadSize * (1 - headOffset) / 2 * xSign;\n                    cpx2 += fHeadSize * (1 - headOffset) / 2 * xSign;\n                  }\n                  if (showTail) {\n                    cpx1 -= fTailSize * (1 - tailOffset) / 2 * xSign;\n                    cpx2 += fTailSize * (1 - tailOffset) / 2 * xSign;\n                  }\n                },\n                vv: function () {\n                  cpy1 += (absDy * gridBreak.relative + gridBreak.abs) * ySign;\n                  cpy2 -= (absDy * (1 - gridBreak.relative) - gridBreak.abs) * ySign;\n                  if (showHead) {\n                    cpy1 -= fHeadSize * (1 - headOffset) / 2 * ySign;\n                    cpy2 += fHeadSize * (1 - headOffset) / 2 * ySign;\n                  }\n                  if (showTail) {\n                    cpy1 -= fTailSize * (1 - tailOffset) / 2 * ySign;\n                    cpy2 += fTailSize * (1 - tailOffset) / 2 * ySign;\n                  }\n                },\n                hv: function () {\n                  cpx1 = x2;\n                },\n                vh: function () {\n                  cpy1 = y2;\n                }\n              };\n            }\n            // smart select best curve for the current anchors\n            var selectedCurviness = '';\n            if (['left', 'right'].includes(startAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(startAnchorPosition)) selectedCurviness += 'v';else if (startAnchorPosition === 'middle') selectedCurviness += 'm';\n            if (['left', 'right'].includes(endAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(endAnchorPosition)) selectedCurviness += 'v';else if (endAnchorPosition === 'middle') selectedCurviness += 'm';\n            if (absDx > absDy) selectedCurviness = selectedCurviness.replace(/m/g, 'h');else selectedCurviness = selectedCurviness.replace(/m/g, 'v');\n            curvesPossibilities[selectedCurviness]();\n            cpx1 += _cpx1Offset;\n            cpy1 += _cpy1Offset;\n            cpx2 += _cpx2Offset;\n            cpy2 += _cpy2Offset;\n            ////////////////////////////////////\n            // canvas smart size adjustments\n            var _h = buzzier_1.buzzierMinSols(x1, cpx1, cpx2, x2),\n              xSol1 = _h[0],\n              xSol2 = _h[1];\n            var _j = buzzier_1.buzzierMinSols(y1, cpy1, cpy2, y2),\n              ySol1 = _j[0],\n              ySol2 = _j[1];\n            if (xSol1 < 0) excLeft += -xSol1;\n            if (xSol2 > absDx) excRight += xSol2 - absDx;\n            if (ySol1 < 0) excUp += -ySol1;\n            if (ySol2 > absDy) excDown += ySol2 - absDy;\n            if (path === 'grid') {\n              excLeft += _calc;\n              excRight += _calc;\n              excUp += _calc;\n              excDown += _calc;\n            }\n            x1 += excLeft;\n            x2 += excLeft;\n            y1 += excUp;\n            y2 += excUp;\n            cpx1 += excLeft;\n            cpx2 += excLeft;\n            cpy1 += excUp;\n            cpy2 += excUp;\n            var cw = absDx + excLeft + excRight,\n              ch = absDy + excUp + excDown;\n            cx0 -= excLeft;\n            cy0 -= excUp;\n            //labels\n            var bzx = buzzier_1.bzFunction(x1, cpx1, cpx2, x2);\n            var bzy = buzzier_1.bzFunction(y1, cpy1, cpy2, y2);\n            var labelStartPos = {\n              x: bzx(0.01),\n              y: bzy(0.01)\n            };\n            var labelMiddlePos = {\n              x: bzx(0.5),\n              y: bzy(0.5)\n            };\n            var labelEndPos = {\n              x: bzx(0.99),\n              y: bzy(0.99)\n            };\n            var arrowPath;\n            if (path === 'grid') {\n              // todo: support gridRadius\n              //  arrowPath = `M ${x1} ${y1} L  ${cpx1 - 10} ${cpy1} a10,10 0 0 1 10,10\n              // L ${cpx2} ${cpy2 - 10} a10,10 0 0 0 10,10 L  ${x2} ${y2}`;\n              arrowPath = \"M \" + x1 + \" \" + y1 + \" L  \" + cpx1 + \" \" + cpy1 + \" L \" + cpx2 + \" \" + cpy2 + \" \" + x2 + \" \" + y2;\n            } else if (path === 'smooth') arrowPath = \"M \" + x1 + \" \" + y1 + \" C \" + cpx1 + \" \" + cpy1 + \", \" + cpx2 + \" \" + cpy2 + \", \" + x2 + \" \" + y2;\n            return {\n              cx0: cx0,\n              cy0: cy0,\n              x1: x1,\n              x2: x2,\n              y1: y1,\n              y2: y2,\n              cw: cw,\n              ch: ch,\n              cpx1: cpx1,\n              cpy1: cpy1,\n              cpx2: cpx2,\n              cpy2: cpy2,\n              dx: dx,\n              dy: dy,\n              absDx: absDx,\n              absDy: absDy,\n              headOrient: headOrient,\n              tailOrient: tailOrient,\n              labelStartPos: labelStartPos,\n              labelMiddlePos: labelMiddlePos,\n              labelEndPos: labelEndPos,\n              excLeft: excLeft,\n              excRight: excRight,\n              excUp: excUp,\n              excDown: excDown,\n              headOffset: _headOffset,\n              arrowHeadOffset: arrowHeadOffset,\n              arrowTailOffset: arrowTailOffset,\n              startPoints: startPoints,\n              endPoints: endPoints,\n              mainDivPos: mainDivPos,\n              xSign: xSign,\n              ySign: ySign,\n              lineLength: (_d = (_c = lineRef.current) === null || _c === void 0 ? void 0 : _c.getTotalLength()) !== null && _d !== void 0 ? _d : 0,\n              fHeadSize: fHeadSize,\n              fTailSize: fTailSize,\n              arrowPath: arrowPath\n            };\n          };\n          exports.getPosition = getPosition;\n\n          /***/\n        },\n\n        /***/\"./src/Xarrow/utils/index.ts\":\n        /*!***********************************!*\\\n          !*** ./src/Xarrow/utils/index.ts ***!\n          \\***********************************/\n        /***/\n        function (__unused_webpack_module, exports) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.getSvgPos = exports.getElemPos = exports.getShortestLine = exports.xStr2absRelative = exports.factorDpathStr = exports.getElementByPropGiven = void 0;\n          var getElementByPropGiven = function (ref) {\n            var myRef;\n            if (typeof ref === 'string') {\n              // myRef = document.getElementById(ref);\n              myRef = document.getElementById(ref);\n            } else myRef = ref === null || ref === void 0 ? void 0 : ref.current;\n            return myRef;\n          };\n          exports.getElementByPropGiven = getElementByPropGiven;\n          // receives string representing a d path and factoring only the numbers\n          var factorDpathStr = function (d, factor) {\n            var l = d.split(/(\\d+(?:\\.\\d+)?)/);\n            l = l.map(function (s) {\n              if (Number(s)) return (Number(s) * factor).toString();else return s;\n            });\n            return l.join('');\n          };\n          exports.factorDpathStr = factorDpathStr;\n          // return relative,abs\n          var xStr2absRelative = function (str) {\n            if (typeof str !== 'string') return {\n              abs: 0,\n              relative: 0.5\n            };\n            var sp = str.split('%');\n            var absLen = 0,\n              percentLen = 0;\n            if (sp.length == 1) {\n              var p = parseFloat(sp[0]);\n              if (!isNaN(p)) {\n                absLen = p;\n                return {\n                  abs: absLen,\n                  relative: 0\n                };\n              }\n            } else if (sp.length == 2) {\n              var _a = [parseFloat(sp[0]), parseFloat(sp[1])],\n                p1 = _a[0],\n                p2 = _a[1];\n              if (!isNaN(p1)) percentLen = p1 / 100;\n              if (!isNaN(p2)) absLen = p2;\n              if (!isNaN(p1) || !isNaN(p2)) return {\n                abs: absLen,\n                relative: percentLen\n              };\n            }\n          };\n          exports.xStr2absRelative = xStr2absRelative;\n          var dist = function (p1, p2) {\n            //length of line\n            return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n          };\n          var getShortestLine = function (sPoints, ePoints) {\n            // closes tPair Of Points which feet to the specified anchors\n            var minDist = Infinity,\n              d = Infinity;\n            var closestPair;\n            sPoints.forEach(function (sp) {\n              ePoints.forEach(function (ep) {\n                d = dist(sp, ep);\n                if (d < minDist) {\n                  minDist = d;\n                  closestPair = {\n                    chosenStart: sp,\n                    chosenEnd: ep\n                  };\n                }\n              });\n            });\n            return closestPair;\n          };\n          exports.getShortestLine = getShortestLine;\n          var getElemPos = function (elem) {\n            if (!elem) return {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            };\n            var pos = elem.getBoundingClientRect();\n            return {\n              x: pos.left,\n              y: pos.top,\n              right: pos.right,\n              bottom: pos.bottom\n            };\n          };\n          exports.getElemPos = getElemPos;\n          var getSvgPos = function (svgRef) {\n            if (!svgRef.current) return {\n              x: 0,\n              y: 0\n            };\n            var _a = svgRef.current.getBoundingClientRect(),\n              xarrowElemX = _a.left,\n              xarrowElemY = _a.top;\n            var xarrowStyle = getComputedStyle(svgRef.current);\n            var xarrowStyleLeft = Number(xarrowStyle.left.slice(0, -2));\n            var xarrowStyleTop = Number(xarrowStyle.top.slice(0, -2));\n            return {\n              x: xarrowElemX - xarrowStyleLeft,\n              y: xarrowElemY - xarrowStyleTop\n            };\n          };\n          exports.getSvgPos = getSvgPos;\n\n          /***/\n        },\n\n        /***/\"./src/Xwrapper.tsx\":\n        /*!**************************!*\\\n          !*** ./src/Xwrapper.tsx ***!\n          \\**************************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n            __setModuleDefault(result, mod);\n            return result;\n          };\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.XarrowContext = exports.XelemContext = void 0;\n          var react_1 = __importStar(__webpack_require__( /*! react */\"react\"));\n          exports.XelemContext = react_1.default.createContext(null);\n          exports.XarrowContext = react_1.default.createContext(null);\n          var updateRef = {};\n          var updateRefCount = 0;\n          var log = console.log;\n          var XarrowProvider = function (_a) {\n            var children = _a.children,\n              instanceCount = _a.instanceCount;\n            var _b = react_1.useState({}),\n              setRender = _b[1];\n            var updateXarrow = function () {\n              return setRender({});\n            };\n            react_1.useEffect(function () {\n              instanceCount.current = updateRefCount; // so this instance would know what is id\n              updateRef[instanceCount.current] = updateXarrow;\n            }, []);\n            // log('XarrowProvider', updateRefCount);\n            return react_1.default.createElement(exports.XarrowContext.Provider, {\n              value: updateXarrow\n            }, children);\n          };\n          var XelemProvider = function (_a) {\n            var children = _a.children,\n              instanceCount = _a.instanceCount;\n            return react_1.default.createElement(exports.XelemContext.Provider, {\n              value: updateRef[instanceCount.current]\n            }, children);\n          };\n          var Xwrapper = function (_a) {\n            var children = _a.children;\n            var instanceCount = react_1.useRef(updateRefCount);\n            var _b = react_1.useState({}),\n              setRender = _b[1];\n            react_1.useEffect(function () {\n              updateRefCount++;\n              setRender({});\n              return function () {\n                delete updateRef[instanceCount.current];\n              };\n            }, []);\n            return react_1.default.createElement(XelemProvider, {\n              instanceCount: instanceCount\n            }, react_1.default.createElement(XarrowProvider, {\n              instanceCount: instanceCount\n            }, children));\n          };\n          exports.default = Xwrapper;\n\n          /***/\n        },\n\n        /***/\"./src/constants.tsx\":\n        /*!***************************!*\\\n          !*** ./src/constants.tsx ***!\n          \\***************************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.cArrowShapes = exports.arrowShapes = exports.cSvgElems = exports.cPaths = exports.cAnchorEdge = void 0;\n          // constants used for typescript and proptypes definitions\n          var react_1 = __importDefault(__webpack_require__( /*! react */\"react\"));\n          exports.cAnchorEdge = ['middle', 'left', 'right', 'top', 'bottom', 'auto'];\n          exports.cPaths = ['smooth', 'grid', 'straight'];\n          exports.cSvgElems = ['circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect'];\n          //default arrows svgs\n          exports.arrowShapes = {\n            arrow1: {\n              svgElem: react_1.default.createElement(\"path\", {\n                d: \"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z\"\n              }),\n              offsetForward: 0.25\n            },\n            heart: {\n              svgElem: react_1.default.createElement(\"path\", {\n                d: \"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z\"\n              }),\n              offsetForward: 0.1\n            },\n            circle: {\n              svgElem: react_1.default.createElement(\"circle\", {\n                r: 0.5,\n                cx: 0.5,\n                cy: 0.5\n              }),\n              offsetForward: 0\n            }\n          };\n          exports.cArrowShapes = Object.keys(exports.arrowShapes);\n\n          /***/\n        },\n\n        /***/\"./src/index.tsx\":\n        /*!***********************!*\\\n          !*** ./src/index.tsx ***!\n          \\***********************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n          var __exportStar = this && this.__exportStar || function (m, exports) {\n            for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n          };\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.useXarrow = exports.Xwrapper = exports.default = void 0;\n          var Xarrow_1 = __webpack_require__( /*! ./Xarrow/Xarrow */\"./src/Xarrow/Xarrow.tsx\");\n          Object.defineProperty(exports, \"default\", {\n            enumerable: true,\n            get: function () {\n              return __importDefault(Xarrow_1).default;\n            }\n          });\n          __exportStar(__webpack_require__( /*! ./types */\"./src/types.ts\"), exports);\n          __exportStar(__webpack_require__( /*! ./constants */\"./src/constants.tsx\"), exports);\n          var Xwrapper_1 = __webpack_require__( /*! ./Xwrapper */\"./src/Xwrapper.tsx\");\n          Object.defineProperty(exports, \"Xwrapper\", {\n            enumerable: true,\n            get: function () {\n              return __importDefault(Xwrapper_1).default;\n            }\n          });\n          var useXarrow_1 = __webpack_require__( /*! ./useXarrow */\"./src/useXarrow.tsx\");\n          Object.defineProperty(exports, \"useXarrow\", {\n            enumerable: true,\n            get: function () {\n              return __importDefault(useXarrow_1).default;\n            }\n          });\n\n          /***/\n        },\n\n        /***/\"./src/types.ts\":\n        /*!**********************!*\\\n          !*** ./src/types.ts ***!\n          \\**********************/\n        /***/\n        function (__unused_webpack_module, exports) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          /***/\n        },\n\n        /***/\"./src/useXarrow.tsx\":\n        /*!***************************!*\\\n          !*** ./src/useXarrow.tsx ***!\n          \\***************************/\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          var react_1 = __webpack_require__( /*! react */\"react\");\n          var Xwrapper_1 = __webpack_require__( /*! ./Xwrapper */\"./src/Xwrapper.tsx\");\n          var useXarrow = function () {\n            var _a = react_1.useState({}),\n              setRender = _a[1];\n            var reRender = function () {\n              return setRender({});\n            };\n            var updateXarrow = react_1.useContext(Xwrapper_1.XelemContext);\n            if (!updateXarrow) updateXarrow = function () {};\n            // throw new Error(\n            //   \"'Xwrapper' is required around element using 'useXarrow' hook! wrap your xarrows and connected elements with Xwrapper! \"\n            // );\n            react_1.useLayoutEffect(function () {\n              updateXarrow();\n            });\n            return reRender;\n          };\n          exports.default = useXarrow;\n\n          /***/\n        },\n\n        /***/\"lodash\":\n        /*!*************************!*\\\n          !*** external \"lodash\" ***!\n          \\*************************/\n        /***/\n        function (module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n\n          /***/\n        },\n\n        /***/\"prop-types\":\n        /*!*****************************!*\\\n          !*** external \"prop-types\" ***!\n          \\*****************************/\n        /***/\n        function (module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;\n\n          /***/\n        },\n\n        /***/\"react\":\n        /*!************************!*\\\n          !*** external \"react\" ***!\n          \\************************/\n        /***/\n        function (module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n          /***/\n        }\n\n        /******/\n      };\n      /************************************************************************/\n      /******/ // The module cache\n      /******/\n      var __webpack_module_cache__ = {};\n      /******/\n      /******/ // The require function\n      /******/\n      function __webpack_require__(moduleId) {\n        /******/ // Check if module is in cache\n        /******/var cachedModule = __webpack_module_cache__[moduleId];\n        /******/\n        if (cachedModule !== undefined) {\n          /******/return cachedModule.exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = __webpack_module_cache__[moduleId] = {\n          /******/id: moduleId,\n          /******/loaded: false,\n          /******/exports: {}\n          /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        __webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.loaded = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n      }\n      /******/\n      /******/ // expose the module cache\n      /******/\n      __webpack_require__.c = __webpack_module_cache__;\n      /******/\n      /************************************************************************/\n      /******/ /* webpack/runtime/define property getters */\n      /******/\n      !function () {\n        /******/ // define getter functions for harmony exports\n        /******/__webpack_require__.d = function (exports, definition) {\n          /******/for (var key in definition) {\n            /******/if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n              /******/Object.defineProperty(exports, key, {\n                enumerable: true,\n                get: definition[key]\n              });\n              /******/\n            }\n            /******/\n          }\n          /******/\n        };\n        /******/\n      }();\n      /******/\n      /******/ /* webpack/runtime/hasOwnProperty shorthand */\n      /******/\n      !function () {\n        /******/__webpack_require__.o = function (obj, prop) {\n          return Object.prototype.hasOwnProperty.call(obj, prop);\n        };\n        /******/\n      }();\n      /******/\n      /******/ /* webpack/runtime/make namespace object */\n      /******/\n      !function () {\n        /******/ // define __esModule on exports\n        /******/__webpack_require__.r = function (exports) {\n          /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n            /******/Object.defineProperty(exports, Symbol.toStringTag, {\n              value: 'Module'\n            });\n            /******/\n          }\n          /******/\n          Object.defineProperty(exports, '__esModule', {\n            value: true\n          });\n          /******/\n        };\n        /******/\n      }();\n      /******/\n      /******/ /* webpack/runtime/node module decorator */\n      /******/\n      !function () {\n        /******/__webpack_require__.nmd = function (module) {\n          /******/module.paths = [];\n          /******/\n          if (!module.children) module.children = [];\n          /******/\n          return module;\n          /******/\n        };\n        /******/\n      }();\n      /******/\n      /************************************************************************/\n      /******/\n      /******/ // module cache are used so entry inlining is disabled\n      /******/ // startup\n      /******/ // Load entry module and return exports\n      /******/\n      var __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n      /******/\n      /******/\n      return __webpack_exports__;\n      /******/\n    }()\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_react__","__WEBPACK_EXTERNAL_MODULE_lodash__","__WEBPACK_EXTERNAL_MODULE_prop_types__","__webpack_modules__","./src/Xarrow/utils/buzzier.js","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","d","bzFunction","buzzierMinSols","p1","p2","p3","p4","t","Math","pow","bz","A","B","C","sol1","sqrt","sol2","./src/Xarrow/Xarrow.tsx","__assign","Object","assign","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__spreadArray","to","from","il","j","__importDefault","react_1","useXarrowProps_1","Xwrapper_1","propTypes_1","GetPosition_1","log","console","Xarrow","props","_a","mainRef","useRef","svgRef","lineRef","headRef","tailRef","lineDrawAnimRef","lineDashAnimRef","headOpacityAnimRef","_b","current","useContext","XarrowContext","xProps","default","propsRefs","labels","lineColor","headColor","tailColor","strokeWidth","showHead","showTail","dashness","headShape","tailShape","showXarrow","animateDrawing","zIndex","passProps","arrowBodyProps","arrowHeadProps","arrowTailProps","SVGcanvasProps","divContainerProps","divContainerStyle","SVGcanvasStyle","_debug","shouldUpdatePosition","_c","useState","drawAnimEnded","setDrawAnimEnded","_d","setRender","forceRerender","_e","cx0","cy0","cw","ch","x1","y1","x2","y2","dx","dy","absDx","absDy","cpx1","cpy1","cpx2","cpy2","headOrient","tailOrient","arrowHeadOffset","x","y","arrowTailOffset","headOffset","excRight","excLeft","excUp","excDown","startPoints","endPoints","mainDivPos","xSign","ySign","lineLength","fHeadSize","fTailSize","arrowPath","labelStartPos","labelMiddlePos","labelEndPos","st","setSt","useLayoutEffect","pos","getPosition","xOffsetHead","yOffsetHead","xOffsetTail","yOffsetTail","dashoffset","strokeLen","nonStrokeLen","animDirection","animation","dashArray","animRepeatCount","animStartValue","animEndValue","prevSt","getTotalLength","useEffect","monitorDOMchanges","window","addEventListener","handleDrawAmimEnd","beginElement","handleDrawAmimBegin","style","opacity","removeEventListener","cleanMonitorDOMchanges","createElement","position","Fragment","ref","width","height","left","top","pointerEvents","border","overflow","stroke","strokeDasharray","fill","attributeName","values","dur","repeatCount","id","transform","svgElem","begin","cx","cy","start","middle","display","end","map","key","background","borderRadius","propTypes","./src/Xarrow/anchors.ts","nmd","calcAnchors","getAnchorsDefaultOffsets","right","bottom","anchors","anchorPos","anchor","defsOffsets","offset","c","./src/Xarrow/propTypes.ts","prop_types_1","constants_1","pAnchorPositionType","oneOf","cAnchorEdge","pAnchorCustomPositionType","exact","isRequired","number","_pAnchorType","oneOfType","pAnchorType","arrayOf","pRefType","string","any","_pLabelType","element","pLabelsType","pSvgEdgeShapeType","keys","arrowShapes","pSvgElemType","pSvgEdgeType","offsetForward","XarrowPropTypes","startAnchor","endAnchor","color","bool","headSize","tailSize","path","cPaths","curveness","gridBreak","object","_extendSVGcanvas","_cpx1Offset","_cpy1Offset","_cpx2Offset","_cpy2Offset","./src/Xarrow/useXarrowProps.ts","utils_1","lodash_1","parseLabels","label","parsedLabel","isValidElement","parseAnchor","anchorChoice","Array","isArray","anchorChoice2","filter","an","includes","autosAncs","push","flatMap","anchorObj","anchorName","anchorChoice3","anchorChoiceCustom","parseDashness","dashStroke","dashNone","animDashSpeed","parseEdgeShape","svgEdge","warn","cArrowShapes","parseGridBreak","resGridBreak","xStr2absRelative","relative","abs","withUpdate","propVal","updateRef","noParse","userProp","noParseWithUpdatePos","_","updatePos","parseNumWithUpdatePos","Number","parseNum","parsePropsFuncs","getElementByPropGiven","propsDeps","propName","_i","parseGivenProps","propsRef","entries","name_1","val","defaultProps","initialParsedProps","initialValVars","startPos","endPos","deepCompareEquals","a","b","isEqual","useDeepCompareMemoize","useDeepCompareEffect","callback","dependencies","useXarrowProps","userProps","refs","setPropsRefs","curProps","_loop_1","name","valVars","setValVars","getElemPos","./src/Xarrow/utils/GetPosition.tsx","anchors_1","index_1","buzzier_1","_f","getShortestLine","chosenStart","chosenEnd","startAnchorPosition","endAnchorPosition","startPoint","pick","endPoint","getSvgPos","min","_g","tailOffset","xHeadOffset","yHeadOffset","xTailOffset","yTailOffset","_headOffset","_tailOffset","cu","biggerSide","_calc","headAngel","atan","cos","sin","PI","tailAngel","curvesPossibilities","hh","vv","hv","vh","selectedCurviness","replace","_h","xSol1","xSol2","_j","ySol1","ySol2","bzx","bzy","./src/Xarrow/utils/index.ts","factorDpathStr","myRef","document","getElementById","factor","l","split","toString","join","str","sp","absLen","percentLen","parseFloat","isNaN","dist","sPoints","ePoints","minDist","Infinity","closestPair","forEach","ep","elem","getBoundingClientRect","xarrowElemX","xarrowElemY","xarrowStyle","getComputedStyle","xarrowStyleLeft","slice","xarrowStyleTop","./src/Xwrapper.tsx","XelemContext","createContext","updateRefCount","XarrowProvider","children","instanceCount","updateXarrow","Provider","XelemProvider","Xwrapper","./src/constants.tsx","cSvgElems","arrow1","heart","circle","./src/index.tsx","__exportStar","useXarrow","Xarrow_1","useXarrow_1","./src/types.ts","./src/useXarrow.tsx","reRender","lodash","prop-types","react","__webpack_module_cache__","moduleId","cachedModule","loaded","definition","obj","prop","Symbol","toStringTag","paths"],"sources":["/home/yhx/Projects/Ann/Frontend/node_modules/react-xarrows/lib/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"reactXarrow\", [\"react\", \"lodash\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"reactXarrow\"] = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));\n\telse\n\t\troot[\"reactXarrow\"] = factory(root[\"react\"], root[\"lodash\"], root[\"prop-types\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_prop_types__) {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/Xarrow/utils/buzzier.js\":\n/*!*************************************!*\\\n  !*** ./src/Xarrow/utils/buzzier.js ***!\n  \\*************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bzFunction\": function() { return /* binding */ bzFunction; },\n/* harmony export */   \"buzzierMinSols\": function() { return /* binding */ buzzierMinSols; }\n/* harmony export */ });\n// Buzier curve calculations\n\n/**\r\n * returns buzzier curve function with 2 controls points\r\n * bzCurve with 2 control points function(4 points total):  bz = (1−t)^3*p1 + 3(1−t)^2*t*p2 +3(1−t)*t^2*p3 + t^3*p4\r\n */\nvar bzFunction = function bzFunction(p1, p2, p3, p4) {\n  return function (t) {\n    return Math.pow(1 - t, 3) * p1 + 3 * Math.pow(1 - t, 2) * t * p2 + 3 * (1 - t) * Math.pow(t, 2) * p3 + Math.pow(t, 3) * p4;\n  };\n};\n/**\r\n * returns 2 solutions from extram points for buzzier curve with 2 controls points\r\n */\n\nvar buzzierMinSols = function buzzierMinSols(p1, p2, p3, p4) {\n  var bz = bzFunction(p1, p2, p3, p4); // dt(bz) = -3 p1 (1 - t)^2 + 3 p2 (1 - t)^2 - 6 p2 (1 - t) t + 6 p3 (1 - t) t - 3 p3 t^2 + 3 p4 t^2\n  // when p1=(x1,y1),p2=(cpx1,cpy1),p3=(cpx2,cpy2),p4=(x2,y2)\n  // then extrema points is when dt(bz) = 0\n  // solutions =>  t = ((-6 p1 + 12 p2 - 6 p3) ± sqrt((6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)))/(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4))  when (p1 + 3 p3!=3 p2 + p4)\n  // if we mark A=(-6 p1 + 12 p2 - 6 p3) and B=(6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)) and C =(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4) then\n  // tSol = A ± sqrt(B)\n  // then solution we want is: bz(tSol)\n\n  var A = -6 * p1 + 12 * p2 - 6 * p3;\n  var B = Math.pow(-6 * p1 + 12 * p2 - 6 * p3, 2) - 4 * (3 * p2 - 3 * p1) * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n  var C = 2 * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n  var sol1 = bz((A + Math.sqrt(B)) / C);\n  var sol2 = bz((A - Math.sqrt(B)) / C);\n  return [sol1, sol2];\n};\n\n/***/ }),\n\n/***/ \"./src/Xarrow/Xarrow.tsx\":\n/*!*******************************!*\\\n  !*** ./src/Xarrow/Xarrow.tsx ***!\n  \\*******************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nvar useXarrowProps_1 = __importDefault(__webpack_require__(/*! ./useXarrowProps */ \"./src/Xarrow/useXarrowProps.ts\"));\r\nvar Xwrapper_1 = __webpack_require__(/*! ../Xwrapper */ \"./src/Xwrapper.tsx\");\r\nvar propTypes_1 = __importDefault(__webpack_require__(/*! ./propTypes */ \"./src/Xarrow/propTypes.ts\"));\r\nvar GetPosition_1 = __webpack_require__(/*! ./utils/GetPosition */ \"./src/Xarrow/utils/GetPosition.tsx\");\r\nvar log = console.log;\r\nvar Xarrow = function (props) {\r\n    // log('xarrow update');\r\n    var _a;\r\n    var mainRef = react_1.useRef({\r\n        svgRef: react_1.useRef(null),\r\n        lineRef: react_1.useRef(null),\r\n        headRef: react_1.useRef(null),\r\n        tailRef: react_1.useRef(null),\r\n        lineDrawAnimRef: react_1.useRef(null),\r\n        lineDashAnimRef: react_1.useRef(null),\r\n        headOpacityAnimRef: react_1.useRef(null),\r\n    });\r\n    var _b = mainRef.current, svgRef = _b.svgRef, lineRef = _b.lineRef, headRef = _b.headRef, tailRef = _b.tailRef, lineDrawAnimRef = _b.lineDrawAnimRef, lineDashAnimRef = _b.lineDashAnimRef, headOpacityAnimRef = _b.headOpacityAnimRef;\r\n    react_1.useContext(Xwrapper_1.XarrowContext);\r\n    var xProps = useXarrowProps_1.default(props, mainRef.current);\r\n    var propsRefs = xProps[0];\r\n    var labels = propsRefs.labels, lineColor = propsRefs.lineColor, headColor = propsRefs.headColor, tailColor = propsRefs.tailColor, strokeWidth = propsRefs.strokeWidth, showHead = propsRefs.showHead, showTail = propsRefs.showTail, dashness = propsRefs.dashness, headShape = propsRefs.headShape, tailShape = propsRefs.tailShape, showXarrow = propsRefs.showXarrow, animateDrawing = propsRefs.animateDrawing, zIndex = propsRefs.zIndex, passProps = propsRefs.passProps, arrowBodyProps = propsRefs.arrowBodyProps, arrowHeadProps = propsRefs.arrowHeadProps, arrowTailProps = propsRefs.arrowTailProps, SVGcanvasProps = propsRefs.SVGcanvasProps, divContainerProps = propsRefs.divContainerProps, divContainerStyle = propsRefs.divContainerStyle, SVGcanvasStyle = propsRefs.SVGcanvasStyle, _debug = propsRefs._debug, shouldUpdatePosition = propsRefs.shouldUpdatePosition;\r\n    animateDrawing = props.animateDrawing;\r\n    var _c = react_1.useState(!animateDrawing), drawAnimEnded = _c[0], setDrawAnimEnded = _c[1];\r\n    var _d = react_1.useState({}), setRender = _d[1];\r\n    var forceRerender = function () { return setRender({}); };\r\n    var _e = react_1.useState({\r\n        //initial state\r\n        cx0: 0,\r\n        cy0: 0,\r\n        cw: 0,\r\n        ch: 0,\r\n        x1: 0,\r\n        y1: 0,\r\n        x2: 0,\r\n        y2: 0,\r\n        dx: 0,\r\n        dy: 0,\r\n        absDx: 0,\r\n        absDy: 0,\r\n        cpx1: 0,\r\n        cpy1: 0,\r\n        cpx2: 0,\r\n        cpy2: 0,\r\n        headOrient: 0,\r\n        tailOrient: 0,\r\n        arrowHeadOffset: { x: 0, y: 0 },\r\n        arrowTailOffset: { x: 0, y: 0 },\r\n        headOffset: 0,\r\n        excRight: 0,\r\n        excLeft: 0,\r\n        excUp: 0,\r\n        excDown: 0,\r\n        startPoints: [],\r\n        endPoints: [],\r\n        mainDivPos: { x: 0, y: 0 },\r\n        xSign: 1,\r\n        ySign: 1,\r\n        lineLength: 0,\r\n        fHeadSize: 1,\r\n        fTailSize: 1,\r\n        arrowPath: \"\",\r\n        labelStartPos: { x: 0, y: 0 },\r\n        labelMiddlePos: { x: 0, y: 0 },\r\n        labelEndPos: { x: 0, y: 0 },\r\n    }), st = _e[0], setSt = _e[1];\r\n    /**\r\n     * The Main logic of path calculation for the arrow.\r\n     * calculate new path, adjusting canvas, and set state based on given properties.\r\n     * */\r\n    react_1.useLayoutEffect(function () {\r\n        if (shouldUpdatePosition.current) {\r\n            // log('xarrow getPosition');\r\n            var pos = GetPosition_1.getPosition(xProps, mainRef);\r\n            // log('pos', pos);\r\n            setSt(pos);\r\n            shouldUpdatePosition.current = false;\r\n        }\r\n    });\r\n    // log('st', st);\r\n    var xOffsetHead = st.x2 - st.arrowHeadOffset.x;\r\n    var yOffsetHead = st.y2 - st.arrowHeadOffset.y;\r\n    var xOffsetTail = st.x1 - st.arrowTailOffset.x;\r\n    var yOffsetTail = st.y1 - st.arrowTailOffset.y;\r\n    var dashoffset = dashness.strokeLen + dashness.nonStrokeLen;\r\n    var animDirection = 1;\r\n    if (dashness.animation < 0) {\r\n        dashness.animation *= -1;\r\n        animDirection = -1;\r\n    }\r\n    var dashArray, animation, animRepeatCount, animStartValue, animEndValue = 0;\r\n    if (animateDrawing && drawAnimEnded == false) {\r\n        if (typeof animateDrawing === 'boolean')\r\n            animateDrawing = 1;\r\n        animation = animateDrawing + 's';\r\n        dashArray = st.lineLength;\r\n        animStartValue = st.lineLength;\r\n        animRepeatCount = 1;\r\n        if (animateDrawing < 0) {\r\n            _a = [animEndValue, animStartValue], animStartValue = _a[0], animEndValue = _a[1];\r\n            animation = animateDrawing * -1 + 's';\r\n        }\r\n    }\r\n    else {\r\n        dashArray = dashness.strokeLen + \" \" + dashness.nonStrokeLen;\r\n        animation = 1 / dashness.animation + \"s\";\r\n        animStartValue = dashoffset * animDirection;\r\n        animRepeatCount = 'indefinite';\r\n        animEndValue = 0;\r\n    }\r\n    // handle draw animation\r\n    react_1.useLayoutEffect(function () {\r\n        if (lineRef.current)\r\n            setSt(function (prevSt) { var _a, _b; return (__assign(__assign({}, prevSt), { lineLength: (_b = (_a = lineRef.current) === null || _a === void 0 ? void 0 : _a.getTotalLength()) !== null && _b !== void 0 ? _b : 0 })); });\r\n    }, [lineRef.current]);\r\n    // set all props on first render\r\n    react_1.useEffect(function () {\r\n        var monitorDOMchanges = function () {\r\n            window.addEventListener('resize', forceRerender);\r\n            var handleDrawAmimEnd = function () {\r\n                var _a, _b;\r\n                setDrawAnimEnded(true);\r\n                // @ts-ignore\r\n                (_a = headOpacityAnimRef.current) === null || _a === void 0 ? void 0 : _a.beginElement();\r\n                // @ts-ignore\r\n                (_b = lineDashAnimRef.current) === null || _b === void 0 ? void 0 : _b.beginElement();\r\n            };\r\n            var handleDrawAmimBegin = function () { return (headRef.current.style.opacity = '0'); };\r\n            if (lineDrawAnimRef.current && headRef.current) {\r\n                lineDrawAnimRef.current.addEventListener('endEvent', handleDrawAmimEnd);\r\n                lineDrawAnimRef.current.addEventListener('beginEvent', handleDrawAmimBegin);\r\n            }\r\n            return function () {\r\n                window.removeEventListener('resize', forceRerender);\r\n                if (lineDrawAnimRef.current) {\r\n                    lineDrawAnimRef.current.removeEventListener('endEvent', handleDrawAmimEnd);\r\n                    if (headRef.current)\r\n                        lineDrawAnimRef.current.removeEventListener('beginEvent', handleDrawAmimBegin);\r\n                }\r\n            };\r\n        };\r\n        var cleanMonitorDOMchanges = monitorDOMchanges();\r\n        return function () {\r\n            setDrawAnimEnded(false);\r\n            cleanMonitorDOMchanges();\r\n        };\r\n    }, [showXarrow]);\r\n    //todo: could make some advanced generic typescript inferring. for example get type from headShape.elem:T and\r\n    // tailShape.elem:K force the type for passProps,arrowHeadProps,arrowTailProps property. for now `as any` is used to\r\n    // avoid typescript conflicts\r\n    // so todo- fix all the `passProps as any` assertions\r\n    return (react_1.default.createElement(\"div\", __assign({}, divContainerProps, { style: __assign({ position: 'absolute', zIndex: zIndex }, divContainerStyle) }), showXarrow ? (react_1.default.createElement(react_1.default.Fragment, null,\r\n        react_1.default.createElement(\"svg\", __assign({ ref: svgRef, width: st.cw, height: st.ch, style: __assign({ position: 'absolute', left: st.cx0, top: st.cy0, pointerEvents: 'none', border: _debug ? '1px dashed yellow' : null }, SVGcanvasStyle), overflow: \"auto\" }, SVGcanvasProps),\r\n            react_1.default.createElement(\"path\", __assign({ ref: lineRef, d: st.arrowPath, stroke: lineColor, strokeDasharray: dashArray, \r\n                // strokeDasharray={'0 0'}\r\n                strokeWidth: strokeWidth, fill: \"transparent\", pointerEvents: \"visibleStroke\" }, passProps, arrowBodyProps),\r\n                react_1.default.createElement(react_1.default.Fragment, null, drawAnimEnded ? (react_1.default.createElement(react_1.default.Fragment, null, dashness.animation ? (react_1.default.createElement(\"animate\", { ref: lineDashAnimRef, attributeName: \"stroke-dashoffset\", values: dashoffset * animDirection + \";0\", dur: 1 / dashness.animation + \"s\", repeatCount: \"indefinite\" })) : null)) : (react_1.default.createElement(react_1.default.Fragment, null, animateDrawing ? (react_1.default.createElement(\"animate\", { ref: lineDrawAnimRef, id: \"svgEndAnimate\", attributeName: \"stroke-dashoffset\", values: animStartValue + \";\" + animEndValue, dur: animation, repeatCount: animRepeatCount })) : null)))),\r\n            showTail ? (react_1.default.createElement(\"g\", __assign({ fill: tailColor, pointerEvents: \"auto\", transform: \"translate(\" + xOffsetTail + \",\" + yOffsetTail + \") rotate(\" + st.tailOrient + \") scale(\" + st.fTailSize + \")\" }, passProps, arrowTailProps), tailShape.svgElem)) : null,\r\n            showHead ? (react_1.default.createElement(\"g\", __assign({ ref: headRef, \r\n                // d={normalArrowShape}\r\n                fill: headColor, pointerEvents: \"auto\", transform: \"translate(\" + xOffsetHead + \",\" + yOffsetHead + \") rotate(\" + st.headOrient + \") scale(\" + st.fHeadSize + \")\", opacity: animateDrawing && !drawAnimEnded ? 0 : 1 }, passProps, arrowHeadProps),\r\n                react_1.default.createElement(\"animate\", { ref: headOpacityAnimRef, dur: '0.4', attributeName: \"opacity\", from: \"0\", to: \"1\", begin: \"indefinite\", repeatCount: \"0\", fill: \"freeze\" }),\r\n                headShape.svgElem)) : null,\r\n            _debug ? (react_1.default.createElement(react_1.default.Fragment, null,\r\n                react_1.default.createElement(\"circle\", { r: \"5\", cx: st.cpx1, cy: st.cpy1, fill: \"green\" }),\r\n                react_1.default.createElement(\"circle\", { r: \"5\", cx: st.cpx2, cy: st.cpy2, fill: \"blue\" }),\r\n                react_1.default.createElement(\"rect\", { x: st.excLeft, y: st.excUp, width: st.absDx, height: st.absDy, fill: \"none\", stroke: \"pink\", strokeWidth: \"2px\" }))) : null),\r\n        labels.start ? (react_1.default.createElement(\"div\", { style: {\r\n                transform: st.dx < 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\r\n                width: 'max-content',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelStartPos.x,\r\n                top: st.cy0 + st.labelStartPos.y - strokeWidth - 5,\r\n            } }, labels.start)) : null,\r\n        labels.middle ? (react_1.default.createElement(\"div\", { style: {\r\n                display: 'table',\r\n                width: 'max-content',\r\n                transform: 'translate(-50% , -50%)',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelMiddlePos.x,\r\n                top: st.cy0 + st.labelMiddlePos.y,\r\n            } }, labels.middle)) : null,\r\n        labels.end ? (react_1.default.createElement(\"div\", { style: {\r\n                transform: st.dx > 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\r\n                width: 'max-content',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelEndPos.x,\r\n                top: st.cy0 + st.labelEndPos.y + strokeWidth + 5,\r\n            } }, labels.end)) : null,\r\n        _debug ? (react_1.default.createElement(react_1.default.Fragment, null, __spreadArray(__spreadArray([], st.startPoints), st.endPoints).map(function (p, i) {\r\n            return (react_1.default.createElement(\"div\", { key: i, style: {\r\n                    background: 'gray',\r\n                    opacity: 0.5,\r\n                    borderRadius: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    height: 5,\r\n                    width: 5,\r\n                    position: 'absolute',\r\n                    left: p.x - st.mainDivPos.x,\r\n                    top: p.y - st.mainDivPos.y,\r\n                } }));\r\n        }))) : null)) : null));\r\n};\r\n//////////////////////////////\r\n// propTypes\r\nXarrow.propTypes = propTypes_1.default;\r\nexports.default = Xarrow;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/anchors.ts\":\n/*!*******************************!*\\\n  !*** ./src/Xarrow/anchors.ts ***!\n  \\*******************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.calcAnchors = void 0;\r\nvar getAnchorsDefaultOffsets = function (width, height) {\r\n    return {\r\n        middle: { x: width * 0.5, y: height * 0.5 },\r\n        left: { x: 0, y: height * 0.5 },\r\n        right: { x: width, y: height * 0.5 },\r\n        top: { x: width * 0.5, y: 0 },\r\n        bottom: { x: width * 0.5, y: height },\r\n    };\r\n};\r\nvar calcAnchors = function (anchors, anchorPos) {\r\n    // now prepare this list of anchors to object expected by the `getShortestLine` function\r\n    return anchors.map(function (anchor) {\r\n        var defsOffsets = getAnchorsDefaultOffsets(anchorPos.right - anchorPos.x, anchorPos.bottom - anchorPos.y);\r\n        var _a = defsOffsets[anchor.position], x = _a.x, y = _a.y;\r\n        return {\r\n            x: anchorPos.x + x + anchor.offset.x,\r\n            y: anchorPos.y + y + anchor.offset.y,\r\n            anchor: anchor,\r\n        };\r\n    });\r\n};\r\nexports.calcAnchors = calcAnchors;\r\nif (__webpack_require__.c[__webpack_require__.s] === module) {\r\n    // const res = parseAnchor(['auto'], {\r\n    //   x: 0,\r\n    //   y: 0,\r\n    //   bottom: 10,\r\n    //   right: 20,\r\n    // });\r\n    // console.log(res);\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/propTypes.ts\":\n/*!*********************************!*\\\n  !*** ./src/Xarrow/propTypes.ts ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar prop_types_1 = __importDefault(__webpack_require__(/*! prop-types */ \"prop-types\"));\r\nvar constants_1 = __webpack_require__(/*! ../constants */ \"./src/constants.tsx\");\r\nvar pAnchorPositionType = prop_types_1.default.oneOf(constants_1.cAnchorEdge);\r\nvar pAnchorCustomPositionType = prop_types_1.default.exact({\r\n    position: pAnchorPositionType.isRequired,\r\n    offset: prop_types_1.default.exact({\r\n        x: prop_types_1.default.number,\r\n        y: prop_types_1.default.number,\r\n    }).isRequired,\r\n});\r\nvar _pAnchorType = prop_types_1.default.oneOfType([pAnchorPositionType, pAnchorCustomPositionType]);\r\nvar pAnchorType = prop_types_1.default.oneOfType([_pAnchorType, prop_types_1.default.arrayOf(_pAnchorType)]);\r\nvar pRefType = prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.exact({ current: prop_types_1.default.any })]);\r\nvar _pLabelType = prop_types_1.default.oneOfType([prop_types_1.default.element, prop_types_1.default.string]);\r\nvar pLabelsType = prop_types_1.default.exact({\r\n    start: _pLabelType,\r\n    middle: _pLabelType,\r\n    end: _pLabelType,\r\n});\r\nvar pSvgEdgeShapeType = prop_types_1.default.oneOf(Object.keys(constants_1.arrowShapes));\r\n// const pSvgElemType = PT.oneOf(cSvgElems);\r\nvar pSvgElemType = prop_types_1.default.any;\r\nvar pSvgEdgeType = prop_types_1.default.oneOfType([\r\n    pSvgEdgeShapeType,\r\n    prop_types_1.default.exact({\r\n        svgElem: pSvgElemType,\r\n        offsetForward: prop_types_1.default.number,\r\n    }).isRequired,\r\n]);\r\nvar XarrowPropTypes = {\r\n    start: pRefType.isRequired,\r\n    end: pRefType.isRequired,\r\n    startAnchor: pAnchorType,\r\n    endAnchor: pAnchorType,\r\n    labels: prop_types_1.default.oneOfType([_pLabelType, pLabelsType]),\r\n    color: prop_types_1.default.string,\r\n    lineColor: prop_types_1.default.string,\r\n    showHead: prop_types_1.default.bool,\r\n    headColor: prop_types_1.default.string,\r\n    headSize: prop_types_1.default.number,\r\n    tailSize: prop_types_1.default.number,\r\n    tailColor: prop_types_1.default.string,\r\n    strokeWidth: prop_types_1.default.number,\r\n    showTail: prop_types_1.default.bool,\r\n    path: prop_types_1.default.oneOf(constants_1.cPaths),\r\n    showXarrow: prop_types_1.default.bool,\r\n    curveness: prop_types_1.default.number,\r\n    gridBreak: prop_types_1.default.string,\r\n    dashness: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.object]),\r\n    headShape: pSvgEdgeType,\r\n    tailShape: pSvgEdgeType,\r\n    animateDrawing: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.number]),\r\n    zIndex: prop_types_1.default.number,\r\n    passProps: prop_types_1.default.object,\r\n    arrowBodyProps: prop_types_1.default.object,\r\n    arrowHeadProps: prop_types_1.default.object,\r\n    arrowTailProps: prop_types_1.default.object,\r\n    SVGcanvasProps: prop_types_1.default.object,\r\n    divContainerProps: prop_types_1.default.object,\r\n    _extendSVGcanvas: prop_types_1.default.number,\r\n    _debug: prop_types_1.default.bool,\r\n    _cpx1Offset: prop_types_1.default.number,\r\n    _cpy1Offset: prop_types_1.default.number,\r\n    _cpx2Offset: prop_types_1.default.number,\r\n    _cpy2Offset: prop_types_1.default.number,\r\n};\r\nexports.default = XarrowPropTypes;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/useXarrowProps.ts\":\n/*!**************************************!*\\\n  !*** ./src/Xarrow/useXarrowProps.ts ***!\n  \\**************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./src/Xarrow/utils/index.ts\");\r\nvar lodash_1 = __importDefault(__webpack_require__(/*! lodash */ \"lodash\"));\r\nvar constants_1 = __webpack_require__(/*! ../constants */ \"./src/constants.tsx\");\r\nvar parseLabels = function (label) {\r\n    var parsedLabel = { start: null, middle: null, end: null };\r\n    if (label) {\r\n        if (typeof label === 'string' || react_1.default.isValidElement(label))\r\n            parsedLabel.middle = label;\r\n        else {\r\n            for (var key in label) {\r\n                parsedLabel[key] = label[key];\r\n            }\r\n        }\r\n    }\r\n    return parsedLabel;\r\n};\r\nvar parseAnchor = function (anchor) {\r\n    // convert to array\r\n    var anchorChoice = Array.isArray(anchor) ? anchor : [anchor];\r\n    //convert to array of objects\r\n    var anchorChoice2 = anchorChoice.map(function (anchorChoice) {\r\n        if (typeof anchorChoice === 'string') {\r\n            return { position: anchorChoice };\r\n        }\r\n        else\r\n            return anchorChoice;\r\n    });\r\n    //remove any invalid anchor names\r\n    anchorChoice2 = anchorChoice2.filter(function (an) { return constants_1.cAnchorEdge.includes(an.position); });\r\n    if (anchorChoice2.length == 0)\r\n        anchorChoice2 = [{ position: 'auto' }];\r\n    //replace any 'auto' with ['left','right','bottom','top']\r\n    var autosAncs = anchorChoice2.filter(function (an) { return an.position === 'auto'; });\r\n    if (autosAncs.length > 0) {\r\n        anchorChoice2 = anchorChoice2.filter(function (an) { return an.position !== 'auto'; });\r\n        anchorChoice2.push.apply(anchorChoice2, autosAncs.flatMap(function (anchorObj) {\r\n            return ['left', 'right', 'top', 'bottom'].map(function (anchorName) {\r\n                return __assign(__assign({}, anchorObj), { position: anchorName });\r\n            });\r\n        }));\r\n    }\r\n    // default values\r\n    var anchorChoice3 = anchorChoice2.map(function (anchorChoice) {\r\n        if (typeof anchorChoice === 'object') {\r\n            var anchorChoiceCustom = anchorChoice;\r\n            if (!anchorChoiceCustom.position)\r\n                anchorChoiceCustom.position = 'auto';\r\n            if (!anchorChoiceCustom.offset)\r\n                anchorChoiceCustom.offset = { x: 0, y: 0 };\r\n            if (!anchorChoiceCustom.offset.y)\r\n                anchorChoiceCustom.offset.y = 0;\r\n            if (!anchorChoiceCustom.offset.x)\r\n                anchorChoiceCustom.offset.x = 0;\r\n            anchorChoiceCustom = anchorChoiceCustom;\r\n            return anchorChoiceCustom;\r\n        }\r\n        else\r\n            return anchorChoice;\r\n    });\r\n    return anchorChoice3;\r\n};\r\nvar parseDashness = function (dashness, props) {\r\n    var dashStroke = 0, dashNone = 0, animDashSpeed, animDirection = 1;\r\n    if (typeof dashness === 'object') {\r\n        dashStroke = dashness.strokeLen || props.strokeWidth * 2;\r\n        dashNone = dashness.strokeLen ? dashness.nonStrokeLen : props.strokeWidth;\r\n        animDashSpeed = dashness.animation ? dashness.animation : null;\r\n    }\r\n    else if (typeof dashness === 'boolean' && dashness) {\r\n        dashStroke = props.strokeWidth * 2;\r\n        dashNone = props.strokeWidth;\r\n        animDashSpeed = null;\r\n    }\r\n    return { strokeLen: dashStroke, nonStrokeLen: dashNone, animation: animDashSpeed, animDirection: animDirection };\r\n};\r\nvar parseEdgeShape = function (svgEdge) {\r\n    if (typeof svgEdge == 'string') {\r\n        if (svgEdge in constants_1.arrowShapes)\r\n            svgEdge = constants_1.arrowShapes[svgEdge];\r\n        else {\r\n            console.warn(\"'\" + svgEdge + \"' is not supported arrow shape. the supported arrow shapes is one of \" + constants_1.cArrowShapes + \".\\n           reverting to default shape.\");\r\n            svgEdge = constants_1.arrowShapes['arrow1'];\r\n        }\r\n    }\r\n    svgEdge = svgEdge;\r\n    if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.offsetForward) === undefined)\r\n        svgEdge.offsetForward = 0.25;\r\n    if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.svgElem) === undefined)\r\n        svgEdge.svgElem = 'path';\r\n    // if (svgEdge?.svgProps === undefined) svgEdge.svgProps = arrowShapes.arrow1.svgProps;\r\n    return svgEdge;\r\n};\r\nvar parseGridBreak = function (gridBreak) {\r\n    var resGridBreak = utils_1.xStr2absRelative(gridBreak);\r\n    if (!resGridBreak)\r\n        resGridBreak = { relative: 0.5, abs: 0 };\r\n    return resGridBreak;\r\n};\r\n/**\r\n * should be wrapped with any changed prop that is affecting the points path positioning\r\n * @param propVal\r\n * @param updateRef\r\n */\r\nvar withUpdate = function (propVal, updateRef) {\r\n    if (updateRef)\r\n        updateRef.current = true;\r\n    return propVal;\r\n};\r\nvar noParse = function (userProp) { return userProp; };\r\nvar noParseWithUpdatePos = function (userProp, _, updatePos) { return withUpdate(userProp, updatePos); };\r\nvar parseNumWithUpdatePos = function (userProp, _, updatePos) { return withUpdate(Number(userProp), updatePos); };\r\nvar parseNum = function (userProp) { return Number(userProp); };\r\nvar parsePropsFuncs = {\r\n    start: function (userProp) { return utils_1.getElementByPropGiven(userProp); },\r\n    end: function (userProp) { return utils_1.getElementByPropGiven(userProp); },\r\n    startAnchor: function (userProp, _, updatePos) { return withUpdate(parseAnchor(userProp), updatePos); },\r\n    endAnchor: function (userProp, _, updatePos) { return withUpdate(parseAnchor(userProp), updatePos); },\r\n    labels: function (userProp) { return parseLabels(userProp); },\r\n    color: noParse,\r\n    lineColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    headColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    tailColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    strokeWidth: parseNumWithUpdatePos,\r\n    showHead: noParseWithUpdatePos,\r\n    headSize: parseNumWithUpdatePos,\r\n    showTail: noParseWithUpdatePos,\r\n    tailSize: parseNumWithUpdatePos,\r\n    path: noParseWithUpdatePos,\r\n    curveness: parseNumWithUpdatePos,\r\n    gridBreak: function (userProp, _, updatePos) { return withUpdate(parseGridBreak(userProp), updatePos); },\r\n    // // gridRadius = strokeWidth * 2, //todo\r\n    dashness: function (userProp, propsRefs) { return parseDashness(userProp, propsRefs); },\r\n    headShape: function (userProp) { return parseEdgeShape(userProp); },\r\n    tailShape: function (userProp) { return parseEdgeShape(userProp); },\r\n    showXarrow: noParse,\r\n    animateDrawing: noParse,\r\n    zIndex: parseNum,\r\n    passProps: noParse,\r\n    arrowBodyProps: noParseWithUpdatePos,\r\n    arrowHeadProps: noParseWithUpdatePos,\r\n    arrowTailProps: noParseWithUpdatePos,\r\n    SVGcanvasProps: noParseWithUpdatePos,\r\n    divContainerProps: noParseWithUpdatePos,\r\n    divContainerStyle: noParseWithUpdatePos,\r\n    SVGcanvasStyle: noParseWithUpdatePos,\r\n    _extendSVGcanvas: noParseWithUpdatePos,\r\n    _debug: noParseWithUpdatePos,\r\n    _cpx1Offset: noParseWithUpdatePos,\r\n    _cpy1Offset: noParseWithUpdatePos,\r\n    _cpx2Offset: noParseWithUpdatePos,\r\n    _cpy2Offset: noParseWithUpdatePos,\r\n};\r\n//build dependencies\r\nvar propsDeps = {};\r\n//each prop depends on himself\r\nfor (var propName in parsePropsFuncs) {\r\n    propsDeps[propName] = [propName];\r\n}\r\n// 'lineColor', 'headColor', 'tailColor' props also depends on 'color' prop\r\nfor (var _i = 0, _a = ['lineColor', 'headColor', 'tailColor']; _i < _a.length; _i++) {\r\n    var propName = _a[_i];\r\n    propsDeps[propName].push('color');\r\n}\r\nvar parseGivenProps = function (props, propsRef) {\r\n    var _a;\r\n    for (var _i = 0, _b = Object.entries(props); _i < _b.length; _i++) {\r\n        var _c = _b[_i], name_1 = _c[0], val = _c[1];\r\n        propsRef[name_1] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[name_1]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, val, propsRef);\r\n    }\r\n    return propsRef;\r\n};\r\nvar defaultProps = {\r\n    start: null,\r\n    end: null,\r\n    startAnchor: 'auto',\r\n    endAnchor: 'auto',\r\n    labels: null,\r\n    color: 'CornflowerBlue',\r\n    lineColor: null,\r\n    headColor: null,\r\n    tailColor: null,\r\n    strokeWidth: 4,\r\n    showHead: true,\r\n    headSize: 6,\r\n    showTail: false,\r\n    tailSize: 6,\r\n    path: 'smooth',\r\n    curveness: 0.8,\r\n    gridBreak: '50%',\r\n    // gridRadius : strokeWidth * 2, //todo\r\n    dashness: false,\r\n    headShape: 'arrow1',\r\n    tailShape: 'arrow1',\r\n    showXarrow: true,\r\n    animateDrawing: false,\r\n    zIndex: 0,\r\n    passProps: {},\r\n    arrowBodyProps: {},\r\n    arrowHeadProps: {},\r\n    arrowTailProps: {},\r\n    SVGcanvasProps: {},\r\n    divContainerProps: {},\r\n    divContainerStyle: {},\r\n    SVGcanvasStyle: {},\r\n    _extendSVGcanvas: 0,\r\n    _debug: false,\r\n    _cpx1Offset: 0,\r\n    _cpy1Offset: 0,\r\n    _cpx2Offset: 0,\r\n    _cpy2Offset: 0,\r\n};\r\nvar initialParsedProps = {};\r\ninitialParsedProps = parseGivenProps(defaultProps, initialParsedProps);\r\nvar initialValVars = {\r\n    startPos: { x: 0, y: 0, right: 0, bottom: 0 },\r\n    endPos: { x: 0, y: 0, right: 0, bottom: 0 },\r\n};\r\n// const parseAllProps = () => parseGivenProps(defaultProps, initialParsedProps);\r\nfunction deepCompareEquals(a, b) {\r\n    return lodash_1.default.isEqual(a, b);\r\n}\r\nfunction useDeepCompareMemoize(value) {\r\n    var ref = react_1.useRef();\r\n    // it can be done by using useMemo as well\r\n    // but useRef is rather cleaner and easier\r\n    if (!deepCompareEquals(value, ref.current)) {\r\n        ref.current = value;\r\n    }\r\n    return ref.current;\r\n}\r\nfunction useDeepCompareEffect(callback, dependencies) {\r\n    react_1.useLayoutEffect(callback, dependencies.map(useDeepCompareMemoize));\r\n}\r\n/**\r\n * smart hook that provides parsed props to Xarrow and will trigger rerender whenever given prop is changed.\r\n */\r\nvar useXarrowProps = function (userProps, refs) {\r\n    var _a = react_1.useState(initialParsedProps), propsRefs = _a[0], setPropsRefs = _a[1];\r\n    var shouldUpdatePosition = react_1.useRef(false);\r\n    // const _propsRefs = useRef(initialParsedProps);\r\n    // const propsRefs = _propsRefs.current;\r\n    propsRefs['shouldUpdatePosition'] = shouldUpdatePosition;\r\n    var curProps = __assign(__assign({}, defaultProps), userProps);\r\n    var _loop_1 = function (propName) {\r\n        react_1.useLayoutEffect(function () {\r\n            var _a;\r\n            propsRefs[propName] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[propName]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, curProps[propName], propsRefs, shouldUpdatePosition);\r\n            // console.log('prop update:', propName, 'with value', propsRefs[propName]);\r\n            setPropsRefs(__assign({}, propsRefs));\r\n        }, propsDeps[propName].map(function (name) { return userProps[name]; }));\r\n    };\r\n    // react states the number of hooks per render must stay constant,\r\n    // this is ok we are using these hooks in a loop, because the number of props in defaultProps is constant,\r\n    // so the number of hook we will fire each render will always be the same.\r\n    // update the value of the ref that represents the corresponding prop\r\n    // for example: if given 'start' prop would change call getElementByPropGiven(props.start) and save value into propsRefs.start.current\r\n    // why to save refs to props parsed values? some of the props require relatively expensive computations(like 'start' and 'startAnchor').\r\n    // this will always run in the same order and THAT'S WAY ITS LEGAL\r\n    for (var propName in defaultProps) {\r\n        _loop_1(propName);\r\n    }\r\n    // rerender whenever position of start element or end element changes\r\n    var _b = react_1.useState(initialValVars), valVars = _b[0], setValVars = _b[1];\r\n    var startPos = utils_1.getElemPos(propsRefs.start);\r\n    useDeepCompareEffect(function () {\r\n        valVars.startPos = startPos;\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n        // console.log('start update pos', startPos);\r\n    }, [startPos]);\r\n    var endPos = utils_1.getElemPos(propsRefs.end);\r\n    useDeepCompareEffect(function () {\r\n        valVars.endPos = endPos;\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n        // console.log('end update pos', endPos);\r\n    }, [endPos]);\r\n    react_1.useLayoutEffect(function () {\r\n        // console.log('svg shape changed!');\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n    }, [propsRefs.headShape.svgElem, propsRefs.tailShape.svgElem]);\r\n    return [propsRefs, valVars];\r\n};\r\nexports.default = useXarrowProps;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/utils/GetPosition.tsx\":\n/*!******************************************!*\\\n  !*** ./src/Xarrow/utils/GetPosition.tsx ***!\n  \\******************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getPosition = void 0;\r\nvar anchors_1 = __webpack_require__(/*! ../anchors */ \"./src/Xarrow/anchors.ts\");\r\nvar index_1 = __webpack_require__(/*! ./index */ \"./src/Xarrow/utils/index.ts\");\r\nvar lodash_1 = __importDefault(__webpack_require__(/*! lodash */ \"lodash\"));\r\nvar constants_1 = __webpack_require__(/*! ../../constants */ \"./src/constants.tsx\");\r\nvar buzzier_1 = __webpack_require__(/*! ./buzzier */ \"./src/Xarrow/utils/buzzier.js\");\r\n/**\r\n * The Main logic of path calculation for the arrow.\r\n * calculate new path, adjusting canvas, and set state based on given properties.\r\n * */\r\nvar getPosition = function (xProps, mainRef) {\r\n    var _a, _b;\r\n    var _c, _d;\r\n    var propsRefs = xProps[0], valVars = xProps[1];\r\n    var startAnchor = propsRefs.startAnchor, endAnchor = propsRefs.endAnchor, strokeWidth = propsRefs.strokeWidth, showHead = propsRefs.showHead, headSize = propsRefs.headSize, showTail = propsRefs.showTail, tailSize = propsRefs.tailSize, path = propsRefs.path, curveness = propsRefs.curveness, gridBreak = propsRefs.gridBreak, headShape = propsRefs.headShape, tailShape = propsRefs.tailShape, _extendSVGcanvas = propsRefs._extendSVGcanvas, _cpx1Offset = propsRefs._cpx1Offset, _cpy1Offset = propsRefs._cpy1Offset, _cpx2Offset = propsRefs._cpx2Offset, _cpy2Offset = propsRefs._cpy2Offset;\r\n    var startPos = valVars.startPos, endPos = valVars.endPos;\r\n    var _e = mainRef.current, svgRef = _e.svgRef, lineRef = _e.lineRef;\r\n    var headOrient = 0;\r\n    var tailOrient = 0;\r\n    // convert startAnchor and endAnchor to list of objects represents allowed anchors.\r\n    var startPoints = anchors_1.calcAnchors(startAnchor, startPos);\r\n    var endPoints = anchors_1.calcAnchors(endAnchor, endPos);\r\n    // choose the smallest path for 2 points from these possibilities.\r\n    var _f = index_1.getShortestLine(startPoints, endPoints), chosenStart = _f.chosenStart, chosenEnd = _f.chosenEnd;\r\n    var startAnchorPosition = chosenStart.anchor.position, endAnchorPosition = chosenEnd.anchor.position;\r\n    var startPoint = lodash_1.default.pick(chosenStart, ['x', 'y']), endPoint = lodash_1.default.pick(chosenEnd, ['x', 'y']);\r\n    var mainDivPos = index_1.getSvgPos(svgRef);\r\n    var cx0 = Math.min(startPoint.x, endPoint.x) - mainDivPos.x;\r\n    var cy0 = Math.min(startPoint.y, endPoint.y) - mainDivPos.y;\r\n    var dx = endPoint.x - startPoint.x;\r\n    var dy = endPoint.y - startPoint.y;\r\n    var absDx = Math.abs(endPoint.x - startPoint.x);\r\n    var absDy = Math.abs(endPoint.y - startPoint.y);\r\n    var xSign = dx > 0 ? 1 : -1;\r\n    var ySign = dy > 0 ? 1 : -1;\r\n    var _g = [headShape.offsetForward, tailShape.offsetForward], headOffset = _g[0], tailOffset = _g[1];\r\n    var fHeadSize = headSize * strokeWidth; //factored head size\r\n    var fTailSize = tailSize * strokeWidth; //factored head size\r\n    // const { current: _headBox } = headBox;\r\n    var xHeadOffset = 0;\r\n    var yHeadOffset = 0;\r\n    var xTailOffset = 0;\r\n    var yTailOffset = 0;\r\n    var _headOffset = fHeadSize * headOffset;\r\n    var _tailOffset = fTailSize * tailOffset;\r\n    var cu = Number(curveness);\r\n    // gridRadius = Number(gridRadius);\r\n    if (!constants_1.cPaths.includes(path))\r\n        path = 'smooth';\r\n    if (path === 'straight') {\r\n        cu = 0;\r\n        path = 'smooth';\r\n    }\r\n    var biggerSide = headSize > tailSize ? headSize : tailSize;\r\n    var _calc = strokeWidth + (strokeWidth * biggerSide) / 2;\r\n    var excRight = _calc;\r\n    var excLeft = _calc;\r\n    var excUp = _calc;\r\n    var excDown = _calc;\r\n    excLeft += Number(_extendSVGcanvas);\r\n    excRight += Number(_extendSVGcanvas);\r\n    excUp += Number(_extendSVGcanvas);\r\n    excDown += Number(_extendSVGcanvas);\r\n    ////////////////////////////////////\r\n    // arrow point to point calculations\r\n    var x1 = 0, x2 = absDx, y1 = 0, y2 = absDy;\r\n    if (dx < 0)\r\n        _a = [x2, x1], x1 = _a[0], x2 = _a[1];\r\n    if (dy < 0)\r\n        _b = [y2, y1], y1 = _b[0], y2 = _b[1];\r\n    ////////////////////////////////////\r\n    // arrow curviness and arrowhead placement calculations\r\n    if (cu === 0) {\r\n        // in case of straight path\r\n        var headAngel = Math.atan(absDy / absDx);\r\n        if (showHead) {\r\n            x2 -= fHeadSize * (1 - headOffset) * xSign * Math.cos(headAngel);\r\n            y2 -= fHeadSize * (1 - headOffset) * ySign * Math.sin(headAngel);\r\n            headAngel *= ySign;\r\n            if (xSign < 0)\r\n                headAngel = (Math.PI - headAngel * xSign) * xSign;\r\n            xHeadOffset = Math.cos(headAngel) * _headOffset - (Math.sin(headAngel) * fHeadSize) / 2;\r\n            yHeadOffset = (Math.cos(headAngel) * fHeadSize) / 2 + Math.sin(headAngel) * _headOffset;\r\n            headOrient = (headAngel * 180) / Math.PI;\r\n        }\r\n        var tailAngel = Math.atan(absDy / absDx);\r\n        if (showTail) {\r\n            x1 += fTailSize * (1 - tailOffset) * xSign * Math.cos(tailAngel);\r\n            y1 += fTailSize * (1 - tailOffset) * ySign * Math.sin(tailAngel);\r\n            tailAngel *= -ySign;\r\n            if (xSign > 0)\r\n                tailAngel = (Math.PI - tailAngel * xSign) * xSign;\r\n            xTailOffset = Math.cos(tailAngel) * _tailOffset - (Math.sin(tailAngel) * fTailSize) / 2;\r\n            yTailOffset = (Math.cos(tailAngel) * fTailSize) / 2 + Math.sin(tailAngel) * _tailOffset;\r\n            tailOrient = (tailAngel * 180) / Math.PI;\r\n        }\r\n    }\r\n    else {\r\n        // in case of smooth path\r\n        if (endAnchorPosition === 'middle') {\r\n            // in case a middle anchor is chosen for endAnchor choose from which side to attach to the middle of the element\r\n            if (absDx > absDy) {\r\n                endAnchorPosition = xSign ? 'left' : 'right';\r\n            }\r\n            else {\r\n                endAnchorPosition = ySign ? 'top' : 'bottom';\r\n            }\r\n        }\r\n        if (showHead) {\r\n            if (['left', 'right'].includes(endAnchorPosition)) {\r\n                xHeadOffset += _headOffset * xSign;\r\n                x2 -= fHeadSize * (1 - headOffset) * xSign; //same!\r\n                yHeadOffset += (fHeadSize * xSign) / 2;\r\n                if (endAnchorPosition === 'left') {\r\n                    headOrient = 0;\r\n                    if (xSign < 0)\r\n                        headOrient += 180;\r\n                }\r\n                else {\r\n                    headOrient = 180;\r\n                    if (xSign > 0)\r\n                        headOrient += 180;\r\n                }\r\n            }\r\n            else if (['top', 'bottom'].includes(endAnchorPosition)) {\r\n                xHeadOffset += (fHeadSize * -ySign) / 2;\r\n                yHeadOffset += _headOffset * ySign;\r\n                y2 -= fHeadSize * ySign - yHeadOffset;\r\n                if (endAnchorPosition === 'top') {\r\n                    headOrient = 270;\r\n                    if (ySign > 0)\r\n                        headOrient += 180;\r\n                }\r\n                else {\r\n                    headOrient = 90;\r\n                    if (ySign < 0)\r\n                        headOrient += 180;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (showTail && cu !== 0) {\r\n        if (['left', 'right'].includes(startAnchorPosition)) {\r\n            xTailOffset += _tailOffset * -xSign;\r\n            x1 += fTailSize * xSign + xTailOffset;\r\n            yTailOffset += -(fTailSize * xSign) / 2;\r\n            if (startAnchorPosition === 'left') {\r\n                tailOrient = 180;\r\n                if (xSign < 0)\r\n                    tailOrient += 180;\r\n            }\r\n            else {\r\n                tailOrient = 0;\r\n                if (xSign > 0)\r\n                    tailOrient += 180;\r\n            }\r\n        }\r\n        else if (['top', 'bottom'].includes(startAnchorPosition)) {\r\n            yTailOffset += _tailOffset * -ySign;\r\n            y1 += fTailSize * ySign + yTailOffset;\r\n            xTailOffset += (fTailSize * ySign) / 2;\r\n            if (startAnchorPosition === 'top') {\r\n                tailOrient = 90;\r\n                if (ySign > 0)\r\n                    tailOrient += 180;\r\n            }\r\n            else {\r\n                tailOrient = 270;\r\n                if (ySign < 0)\r\n                    tailOrient += 180;\r\n            }\r\n        }\r\n    }\r\n    var arrowHeadOffset = { x: xHeadOffset, y: yHeadOffset };\r\n    var arrowTailOffset = { x: xTailOffset, y: yTailOffset };\r\n    var cpx1 = x1, cpy1 = y1, cpx2 = x2, cpy2 = y2;\r\n    var curvesPossibilities = {};\r\n    if (path === 'smooth')\r\n        curvesPossibilities = {\r\n            hh: function () {\r\n                //horizontal - from right to left or the opposite\r\n                cpx1 += absDx * cu * xSign;\r\n                cpx2 -= absDx * cu * xSign;\r\n            },\r\n            vv: function () {\r\n                //vertical - from top to bottom or opposite\r\n                cpy1 += absDy * cu * ySign;\r\n                cpy2 -= absDy * cu * ySign;\r\n            },\r\n            hv: function () {\r\n                // start horizontally then vertically\r\n                // from v side to h side\r\n                cpx1 += absDx * cu * xSign;\r\n                cpy2 -= absDy * cu * ySign;\r\n            },\r\n            vh: function () {\r\n                // start vertically then horizontally\r\n                // from h side to v side\r\n                cpy1 += absDy * cu * ySign;\r\n                cpx2 -= absDx * cu * xSign;\r\n            },\r\n        };\r\n    else if (path === 'grid') {\r\n        curvesPossibilities = {\r\n            hh: function () {\r\n                cpx1 += (absDx * gridBreak.relative + gridBreak.abs) * xSign;\r\n                cpx2 -= (absDx * (1 - gridBreak.relative) - gridBreak.abs) * xSign;\r\n                if (showHead) {\r\n                    cpx1 -= ((fHeadSize * (1 - headOffset)) / 2) * xSign;\r\n                    cpx2 += ((fHeadSize * (1 - headOffset)) / 2) * xSign;\r\n                }\r\n                if (showTail) {\r\n                    cpx1 -= ((fTailSize * (1 - tailOffset)) / 2) * xSign;\r\n                    cpx2 += ((fTailSize * (1 - tailOffset)) / 2) * xSign;\r\n                }\r\n            },\r\n            vv: function () {\r\n                cpy1 += (absDy * gridBreak.relative + gridBreak.abs) * ySign;\r\n                cpy2 -= (absDy * (1 - gridBreak.relative) - gridBreak.abs) * ySign;\r\n                if (showHead) {\r\n                    cpy1 -= ((fHeadSize * (1 - headOffset)) / 2) * ySign;\r\n                    cpy2 += ((fHeadSize * (1 - headOffset)) / 2) * ySign;\r\n                }\r\n                if (showTail) {\r\n                    cpy1 -= ((fTailSize * (1 - tailOffset)) / 2) * ySign;\r\n                    cpy2 += ((fTailSize * (1 - tailOffset)) / 2) * ySign;\r\n                }\r\n            },\r\n            hv: function () {\r\n                cpx1 = x2;\r\n            },\r\n            vh: function () {\r\n                cpy1 = y2;\r\n            },\r\n        };\r\n    }\r\n    // smart select best curve for the current anchors\r\n    var selectedCurviness = '';\r\n    if (['left', 'right'].includes(startAnchorPosition))\r\n        selectedCurviness += 'h';\r\n    else if (['bottom', 'top'].includes(startAnchorPosition))\r\n        selectedCurviness += 'v';\r\n    else if (startAnchorPosition === 'middle')\r\n        selectedCurviness += 'm';\r\n    if (['left', 'right'].includes(endAnchorPosition))\r\n        selectedCurviness += 'h';\r\n    else if (['bottom', 'top'].includes(endAnchorPosition))\r\n        selectedCurviness += 'v';\r\n    else if (endAnchorPosition === 'middle')\r\n        selectedCurviness += 'm';\r\n    if (absDx > absDy)\r\n        selectedCurviness = selectedCurviness.replace(/m/g, 'h');\r\n    else\r\n        selectedCurviness = selectedCurviness.replace(/m/g, 'v');\r\n    curvesPossibilities[selectedCurviness]();\r\n    cpx1 += _cpx1Offset;\r\n    cpy1 += _cpy1Offset;\r\n    cpx2 += _cpx2Offset;\r\n    cpy2 += _cpy2Offset;\r\n    ////////////////////////////////////\r\n    // canvas smart size adjustments\r\n    var _h = buzzier_1.buzzierMinSols(x1, cpx1, cpx2, x2), xSol1 = _h[0], xSol2 = _h[1];\r\n    var _j = buzzier_1.buzzierMinSols(y1, cpy1, cpy2, y2), ySol1 = _j[0], ySol2 = _j[1];\r\n    if (xSol1 < 0)\r\n        excLeft += -xSol1;\r\n    if (xSol2 > absDx)\r\n        excRight += xSol2 - absDx;\r\n    if (ySol1 < 0)\r\n        excUp += -ySol1;\r\n    if (ySol2 > absDy)\r\n        excDown += ySol2 - absDy;\r\n    if (path === 'grid') {\r\n        excLeft += _calc;\r\n        excRight += _calc;\r\n        excUp += _calc;\r\n        excDown += _calc;\r\n    }\r\n    x1 += excLeft;\r\n    x2 += excLeft;\r\n    y1 += excUp;\r\n    y2 += excUp;\r\n    cpx1 += excLeft;\r\n    cpx2 += excLeft;\r\n    cpy1 += excUp;\r\n    cpy2 += excUp;\r\n    var cw = absDx + excLeft + excRight, ch = absDy + excUp + excDown;\r\n    cx0 -= excLeft;\r\n    cy0 -= excUp;\r\n    //labels\r\n    var bzx = buzzier_1.bzFunction(x1, cpx1, cpx2, x2);\r\n    var bzy = buzzier_1.bzFunction(y1, cpy1, cpy2, y2);\r\n    var labelStartPos = { x: bzx(0.01), y: bzy(0.01) };\r\n    var labelMiddlePos = { x: bzx(0.5), y: bzy(0.5) };\r\n    var labelEndPos = { x: bzx(0.99), y: bzy(0.99) };\r\n    var arrowPath;\r\n    if (path === 'grid') {\r\n        // todo: support gridRadius\r\n        //  arrowPath = `M ${x1} ${y1} L  ${cpx1 - 10} ${cpy1} a10,10 0 0 1 10,10\r\n        // L ${cpx2} ${cpy2 - 10} a10,10 0 0 0 10,10 L  ${x2} ${y2}`;\r\n        arrowPath = \"M \" + x1 + \" \" + y1 + \" L  \" + cpx1 + \" \" + cpy1 + \" L \" + cpx2 + \" \" + cpy2 + \" \" + x2 + \" \" + y2;\r\n    }\r\n    else if (path === 'smooth')\r\n        arrowPath = \"M \" + x1 + \" \" + y1 + \" C \" + cpx1 + \" \" + cpy1 + \", \" + cpx2 + \" \" + cpy2 + \", \" + x2 + \" \" + y2;\r\n    return {\r\n        cx0: cx0,\r\n        cy0: cy0,\r\n        x1: x1,\r\n        x2: x2,\r\n        y1: y1,\r\n        y2: y2,\r\n        cw: cw,\r\n        ch: ch,\r\n        cpx1: cpx1,\r\n        cpy1: cpy1,\r\n        cpx2: cpx2,\r\n        cpy2: cpy2,\r\n        dx: dx,\r\n        dy: dy,\r\n        absDx: absDx,\r\n        absDy: absDy,\r\n        headOrient: headOrient,\r\n        tailOrient: tailOrient,\r\n        labelStartPos: labelStartPos,\r\n        labelMiddlePos: labelMiddlePos,\r\n        labelEndPos: labelEndPos,\r\n        excLeft: excLeft,\r\n        excRight: excRight,\r\n        excUp: excUp,\r\n        excDown: excDown,\r\n        headOffset: _headOffset,\r\n        arrowHeadOffset: arrowHeadOffset,\r\n        arrowTailOffset: arrowTailOffset,\r\n        startPoints: startPoints,\r\n        endPoints: endPoints,\r\n        mainDivPos: mainDivPos,\r\n        xSign: xSign,\r\n        ySign: ySign,\r\n        lineLength: (_d = (_c = lineRef.current) === null || _c === void 0 ? void 0 : _c.getTotalLength()) !== null && _d !== void 0 ? _d : 0,\r\n        fHeadSize: fHeadSize,\r\n        fTailSize: fTailSize,\r\n        arrowPath: arrowPath,\r\n    };\r\n};\r\nexports.getPosition = getPosition;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/utils/index.ts\":\n/*!***********************************!*\\\n  !*** ./src/Xarrow/utils/index.ts ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getSvgPos = exports.getElemPos = exports.getShortestLine = exports.xStr2absRelative = exports.factorDpathStr = exports.getElementByPropGiven = void 0;\r\nvar getElementByPropGiven = function (ref) {\r\n    var myRef;\r\n    if (typeof ref === 'string') {\r\n        // myRef = document.getElementById(ref);\r\n        myRef = document.getElementById(ref);\r\n    }\r\n    else\r\n        myRef = ref === null || ref === void 0 ? void 0 : ref.current;\r\n    return myRef;\r\n};\r\nexports.getElementByPropGiven = getElementByPropGiven;\r\n// receives string representing a d path and factoring only the numbers\r\nvar factorDpathStr = function (d, factor) {\r\n    var l = d.split(/(\\d+(?:\\.\\d+)?)/);\r\n    l = l.map(function (s) {\r\n        if (Number(s))\r\n            return (Number(s) * factor).toString();\r\n        else\r\n            return s;\r\n    });\r\n    return l.join('');\r\n};\r\nexports.factorDpathStr = factorDpathStr;\r\n// return relative,abs\r\nvar xStr2absRelative = function (str) {\r\n    if (typeof str !== 'string')\r\n        return { abs: 0, relative: 0.5 };\r\n    var sp = str.split('%');\r\n    var absLen = 0, percentLen = 0;\r\n    if (sp.length == 1) {\r\n        var p = parseFloat(sp[0]);\r\n        if (!isNaN(p)) {\r\n            absLen = p;\r\n            return { abs: absLen, relative: 0 };\r\n        }\r\n    }\r\n    else if (sp.length == 2) {\r\n        var _a = [parseFloat(sp[0]), parseFloat(sp[1])], p1 = _a[0], p2 = _a[1];\r\n        if (!isNaN(p1))\r\n            percentLen = p1 / 100;\r\n        if (!isNaN(p2))\r\n            absLen = p2;\r\n        if (!isNaN(p1) || !isNaN(p2))\r\n            return { abs: absLen, relative: percentLen };\r\n    }\r\n};\r\nexports.xStr2absRelative = xStr2absRelative;\r\nvar dist = function (p1, p2) {\r\n    //length of line\r\n    return Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\r\n};\r\nvar getShortestLine = function (sPoints, ePoints) {\r\n    // closes tPair Of Points which feet to the specified anchors\r\n    var minDist = Infinity, d = Infinity;\r\n    var closestPair;\r\n    sPoints.forEach(function (sp) {\r\n        ePoints.forEach(function (ep) {\r\n            d = dist(sp, ep);\r\n            if (d < minDist) {\r\n                minDist = d;\r\n                closestPair = { chosenStart: sp, chosenEnd: ep };\r\n            }\r\n        });\r\n    });\r\n    return closestPair;\r\n};\r\nexports.getShortestLine = getShortestLine;\r\nvar getElemPos = function (elem) {\r\n    if (!elem)\r\n        return { x: 0, y: 0, right: 0, bottom: 0 };\r\n    var pos = elem.getBoundingClientRect();\r\n    return {\r\n        x: pos.left,\r\n        y: pos.top,\r\n        right: pos.right,\r\n        bottom: pos.bottom,\r\n    };\r\n};\r\nexports.getElemPos = getElemPos;\r\nvar getSvgPos = function (svgRef) {\r\n    if (!svgRef.current)\r\n        return { x: 0, y: 0 };\r\n    var _a = svgRef.current.getBoundingClientRect(), xarrowElemX = _a.left, xarrowElemY = _a.top;\r\n    var xarrowStyle = getComputedStyle(svgRef.current);\r\n    var xarrowStyleLeft = Number(xarrowStyle.left.slice(0, -2));\r\n    var xarrowStyleTop = Number(xarrowStyle.top.slice(0, -2));\r\n    return {\r\n        x: xarrowElemX - xarrowStyleLeft,\r\n        y: xarrowElemY - xarrowStyleTop,\r\n    };\r\n};\r\nexports.getSvgPos = getSvgPos;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xwrapper.tsx\":\n/*!**************************!*\\\n  !*** ./src/Xwrapper.tsx ***!\n  \\**************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.XarrowContext = exports.XelemContext = void 0;\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nexports.XelemContext = react_1.default.createContext(null);\r\nexports.XarrowContext = react_1.default.createContext(null);\r\nvar updateRef = {};\r\nvar updateRefCount = 0;\r\nvar log = console.log;\r\nvar XarrowProvider = function (_a) {\r\n    var children = _a.children, instanceCount = _a.instanceCount;\r\n    var _b = react_1.useState({}), setRender = _b[1];\r\n    var updateXarrow = function () { return setRender({}); };\r\n    react_1.useEffect(function () {\r\n        instanceCount.current = updateRefCount; // so this instance would know what is id\r\n        updateRef[instanceCount.current] = updateXarrow;\r\n    }, []);\r\n    // log('XarrowProvider', updateRefCount);\r\n    return react_1.default.createElement(exports.XarrowContext.Provider, { value: updateXarrow }, children);\r\n};\r\nvar XelemProvider = function (_a) {\r\n    var children = _a.children, instanceCount = _a.instanceCount;\r\n    return react_1.default.createElement(exports.XelemContext.Provider, { value: updateRef[instanceCount.current] }, children);\r\n};\r\nvar Xwrapper = function (_a) {\r\n    var children = _a.children;\r\n    var instanceCount = react_1.useRef(updateRefCount);\r\n    var _b = react_1.useState({}), setRender = _b[1];\r\n    react_1.useEffect(function () {\r\n        updateRefCount++;\r\n        setRender({});\r\n        return function () {\r\n            delete updateRef[instanceCount.current];\r\n        };\r\n    }, []);\r\n    return (react_1.default.createElement(XelemProvider, { instanceCount: instanceCount },\r\n        react_1.default.createElement(XarrowProvider, { instanceCount: instanceCount }, children)));\r\n};\r\nexports.default = Xwrapper;\r\n\n\n/***/ }),\n\n/***/ \"./src/constants.tsx\":\n/*!***************************!*\\\n  !*** ./src/constants.tsx ***!\n  \\***************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.cArrowShapes = exports.arrowShapes = exports.cSvgElems = exports.cPaths = exports.cAnchorEdge = void 0;\r\n// constants used for typescript and proptypes definitions\r\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\r\nexports.cAnchorEdge = ['middle', 'left', 'right', 'top', 'bottom', 'auto'];\r\nexports.cPaths = ['smooth', 'grid', 'straight'];\r\nexports.cSvgElems = ['circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect'];\r\n//default arrows svgs\r\nexports.arrowShapes = {\r\n    arrow1: { svgElem: react_1.default.createElement(\"path\", { d: \"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z\" }), offsetForward: 0.25 },\r\n    heart: {\r\n        svgElem: (react_1.default.createElement(\"path\", { d: \"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z\" })),\r\n        offsetForward: 0.1,\r\n    },\r\n    circle: {\r\n        svgElem: react_1.default.createElement(\"circle\", { r: 0.5, cx: 0.5, cy: 0.5 }),\r\n        offsetForward: 0,\r\n    },\r\n};\r\nexports.cArrowShapes = Object.keys(exports.arrowShapes);\r\n\n\n/***/ }),\n\n/***/ \"./src/index.tsx\":\n/*!***********************!*\\\n  !*** ./src/index.tsx ***!\n  \\***********************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.useXarrow = exports.Xwrapper = exports.default = void 0;\r\nvar Xarrow_1 = __webpack_require__(/*! ./Xarrow/Xarrow */ \"./src/Xarrow/Xarrow.tsx\");\r\nObject.defineProperty(exports, \"default\", ({ enumerable: true, get: function () { return __importDefault(Xarrow_1).default; } }));\r\n__exportStar(__webpack_require__(/*! ./types */ \"./src/types.ts\"), exports);\r\n__exportStar(__webpack_require__(/*! ./constants */ \"./src/constants.tsx\"), exports);\r\nvar Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */ \"./src/Xwrapper.tsx\");\r\nObject.defineProperty(exports, \"Xwrapper\", ({ enumerable: true, get: function () { return __importDefault(Xwrapper_1).default; } }));\r\nvar useXarrow_1 = __webpack_require__(/*! ./useXarrow */ \"./src/useXarrow.tsx\");\r\nObject.defineProperty(exports, \"useXarrow\", ({ enumerable: true, get: function () { return __importDefault(useXarrow_1).default; } }));\r\n\n\n/***/ }),\n\n/***/ \"./src/types.ts\":\n/*!**********************!*\\\n  !*** ./src/types.ts ***!\n  \\**********************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n\n\n/***/ }),\n\n/***/ \"./src/useXarrow.tsx\":\n/*!***************************!*\\\n  !*** ./src/useXarrow.tsx ***!\n  \\***************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __webpack_require__(/*! react */ \"react\");\r\nvar Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */ \"./src/Xwrapper.tsx\");\r\nvar useXarrow = function () {\r\n    var _a = react_1.useState({}), setRender = _a[1];\r\n    var reRender = function () { return setRender({}); };\r\n    var updateXarrow = react_1.useContext(Xwrapper_1.XelemContext);\r\n    if (!updateXarrow)\r\n        updateXarrow = function () { };\r\n    // throw new Error(\r\n    //   \"'Xwrapper' is required around element using 'useXarrow' hook! wrap your xarrows and connected elements with Xwrapper! \"\r\n    // );\r\n    react_1.useLayoutEffect(function () {\r\n        updateXarrow();\r\n    });\r\n    return reRender;\r\n};\r\nexports.default = useXarrow;\r\n\n\n/***/ }),\n\n/***/ \"lodash\":\n/*!*************************!*\\\n  !*** external \"lodash\" ***!\n  \\*************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n\n/***/ }),\n\n/***/ \"prop-types\":\n/*!*****************************!*\\\n  !*** external \"prop-types\" ***!\n  \\*****************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************!*\\\n  !*** external \"react\" ***!\n  \\************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = __webpack_module_cache__;\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/node module decorator */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.nmd = function(module) {\n/******/ \t\t\tmodule.paths = [];\n/******/ \t\t\tif (!module.children) module.children = [];\n/******/ \t\t\treturn module;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// module cache are used so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \tvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}